{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Introduction","text":"<p>Commitizen Documentation Site</p>"},{"location":"#about","title":"About","text":"<p>Commitizen is a powerful release management tool that helps teams maintain consistent and meaningful commit messages while automating version management.</p>"},{"location":"#what-commitizen-does","title":"What Commitizen Does","text":"<p>By enforcing standardized commit conventions (defaulting to Conventional Commits), Commitizen helps teams:</p> <ul> <li>Write clear, structured commit messages</li> <li>Automatically manage version numbers using semantic versioning</li> <li>Generate and maintain changelogs</li> <li>Streamline the release process</li> </ul>"},{"location":"#key-benefits","title":"Key Benefits","text":"<p>With just a simple <code>cz bump</code> command, Commitizen handles:</p> <ol> <li>Version Management: Automatically bumps version numbers and updates version files based on your commit history</li> <li>Changelog Generation: Creates and updates changelogs following the Keep a changelog format</li> <li>Commit Standardization: Enforces consistent commit message formats across your team</li> </ol> <p>This standardization makes your commit history more readable and meaningful, while the automation reduces manual work and potential errors in the release process.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Interactive CLI for standardized commits with default Conventional Commits support</li> <li>Intelligent version bumping using Semantic Versioning</li> <li>Automatic keep a changelog generation</li> <li>Built-in commit validation with pre-commit hooks</li> <li>Customizable commit rules and templates</li> <li>Multi-format version file support</li> <li>Custom rules and plugins via pip</li> </ul>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#requirements","title":"Requirements","text":"<p>Before installing Commitizen, ensure you have:</p> <ul> <li>Python <code>3.10+</code></li> <li>Git <code>1.8.5.2+</code></li> </ul>"},{"location":"#installation","title":"Installation","text":""},{"location":"#global-installation-recommended","title":"Global Installation (Recommended)","text":"<p>The recommended way to install Commitizen is using <code>pipx</code> or <code>uv</code>, which ensures a clean, isolated installation:</p> <p>Using pipx: <pre><code># Install Commitizen\npipx install commitizen\n\n# Keep it updated\npipx upgrade commitizen\n</code></pre></p> <p>Using uv: <pre><code># Install commitizen\nuv tool install commitizen\n\n# Keep it updated\nuv tool upgrade commitizen\n</code></pre></p> <p>(For macOS users) Using Homebrew: <pre><code>brew install commitizen\n</code></pre></p>"},{"location":"#project-specific-installation","title":"Project-Specific Installation","text":"<p>You can add Commitizen to your Python project using any of these package managers:</p> <p>Using pip: <pre><code>pip install -U commitizen\n</code></pre></p> <p>Using conda: <pre><code>conda install -c conda-forge commitizen\n</code></pre></p> <p>Using Poetry: <pre><code># For Poetry &gt;= 1.2.0\npoetry add commitizen --group dev\n\n# For Poetry &lt; 1.2.0\npoetry add commitizen --dev\n</code></pre></p> <p>Using uv: <pre><code>uv add --dev commitizen\n</code></pre></p> <p>Using pdm: <pre><code>pdm add -d commitizen\n</code></pre></p>"},{"location":"#basic-commands","title":"Basic Commands","text":""},{"location":"#initialize-commitizen","title":"Initialize Commitizen","text":"<p>To get started, run the <code>cz init</code> command. This will guide you through the process of creating a configuration file with your preferred settings.</p>"},{"location":"#create-commits","title":"Create Commits","text":"<p>Create standardized commits using: <pre><code>cz commit\n# or use the shortcut\ncz c\n</code></pre></p> <p>To sign off your commits: <pre><code>cz commit -- --signoff\n# or use the shortcut\ncz commit -- -s\n</code></pre></p> <p>For more commit options, run <code>cz commit --help</code>.</p>"},{"location":"#version-management","title":"Version Management","text":"<p>The most common command you'll use is: <pre><code>cz bump\n</code></pre></p> <p>This command:</p> <ul> <li>Bumps your project's version</li> <li>Creates a git tag</li> <li>Updates the changelog (if <code>update_changelog_on_bump</code> is enabled)</li> <li>Updates version files</li> </ul> <p>You can customize:</p> <ul> <li>Version files</li> <li>Version scheme</li> <li>Version provider</li> </ul> <p>For all available options, see the bump command documentation.</p>"},{"location":"#advanced-usage","title":"Advanced Usage","text":""},{"location":"#get-project-version","title":"Get Project Version","text":"<pre><code># Get your project's version (instead of Commitizen's version)\ncz version -p\n# Preview changelog changes\ncz changelog --dry-run \"$(cz version -p)\"\n</code></pre> <p>This command is particularly useful for automation scripts and CI/CD pipelines.</p> <p>For example, you can use the output of the command <code>cz changelog --dry-run \"$(cz version -p)\"</code> to notify your team about a new release in Slack.</p>"},{"location":"#prek-and-pre-commit-integration","title":"Prek and Pre-commit Integration","text":"<p>Commitizen can automatically validate your commit messages using pre-commit hooks.</p> <ol> <li> <p>Add to your <code>.pre-commit-config.yaml</code>: <pre><code>---\nrepos:\n  - repo: https://github.com/commitizen-tools/commitizen\n    rev: master  # Replace with latest tag\n    hooks:\n      - id: commitizen\n      - id: commitizen-branch\n        stages: [pre-push]\n</code></pre></p> </li> <li> <p>Install the hooks: <pre><code>prek install --hook-type commit-msg --hook-type pre-push\n</code></pre></p> </li> </ol> Hook Recommended Stage commitizen commit-msg commitizen-branch pre-push <p>Note: Replace <code>master</code> with the latest tag to avoid warnings. You can automatically update this with: <pre><code>prek autoupdate\n</code></pre></p> <p>For more details about commit validation, see the check command documentation.</p>"},{"location":"#help-reference","title":"Help &amp; Reference","text":""},{"location":"#command-line-interface","title":"Command Line Interface","text":"<p>Commitizen provides a comprehensive CLI with various commands. Here's the complete reference:</p> <p></p>"},{"location":"#quick-reference","title":"Quick Reference","text":"Command Description Alias <code>cz init</code> Initialize Commitizen configuration - <code>cz commit</code> Create a new commit <code>cz c</code> <code>cz bump</code> Bump version and update changelog - <code>cz changelog</code> Generate changelog <code>cz ch</code> <code>cz check</code> Validate commit messages - <code>cz version</code> Show version information -"},{"location":"#additional-resources","title":"Additional Resources","text":"<ul> <li>Conventional Commits Specification</li> <li>Exit Codes Reference</li> <li>Configuration Guide</li> <li>Command Documentation</li> </ul>"},{"location":"#getting-help","title":"Getting Help","text":"<p>For each command, you can get detailed help by adding <code>--help</code>:</p> <pre><code>cz commit --help\ncz bump --help\ncz changelog --help\n</code></pre> <p>For more details, visit our documentation site.</p>"},{"location":"#setting-up-bash-completion","title":"Setting up bash completion","text":"<p>Commitizen supports command-line completion through argcomplete, which is automatically installed as a dependency. This feature provides intelligent auto-completion for all Commitizen commands and options.</p>"},{"location":"#supported-shells","title":"Supported Shells","text":"<ul> <li>Bash: Full support</li> <li>Zsh: Limited support</li> <li>Fish: Limited support</li> <li>Tcsh: Limited support</li> </ul>"},{"location":"#installation-methods","title":"Installation Methods","text":""},{"location":"#global-installation-recommended_1","title":"Global Installation (Recommended)","text":"<p>If you installed Commitizen globally (e.g., using <code>pipx</code> or <code>brew</code>), you can enable global completion:</p> <pre><code># Enable global completion for all Python applications\nsudo activate-global-python-argcomplete\n</code></pre>"},{"location":"#user-specific-installation","title":"User-Specific Installation","text":"<p>For a user-specific installation that persists across sessions:</p> <pre><code># Add to your shell's startup file (e.g., ~/.bashrc, ~/.zshrc)\nregister-python-argcomplete cz &gt;&gt; ~/.bashrc\n</code></pre>"},{"location":"#temporary-installation","title":"Temporary Installation","text":"<p>For one-time activation in your current shell session:</p> <pre><code># Activate completion for current session only\neval \"$(register-python-argcomplete cz)\"\n</code></pre>"},{"location":"#verification","title":"Verification","text":"<p>After installation, you can verify the completion is working by:</p> <ol> <li>Opening a new terminal session</li> <li>Typing <code>cz</code> followed by a space and pressing <code>TAB</code> twice</li> <li>You should see a list of available commands</li> </ol> <p>For more detailed information about argcomplete configuration and troubleshooting, visit the argcomplete documentation.</p>"},{"location":"#star-history","title":"Star History","text":""},{"location":"#sponsors","title":"Sponsors","text":"<p>These are our cool sponsors!</p> <p></p> <p></p>"},{"location":"exit_codes/","title":"Exit Codes","text":"<p>Commitizen handles expected exceptions through <code>CommitizenException</code> and returns different exit codes for different situations. This reference is useful when you need to ignore specific errors in your CI/CD pipeline or automation scripts.</p> <p>All exit codes are defined in commitizen/exceptions.py.</p>"},{"location":"exit_codes/#exit-code-reference","title":"Exit Code Reference","text":"Exception Exit Code Description <code>ExpectedExit</code> 0 Expected exit <code>DryRunExit</code> 0 Exit due to passing <code>--dry-run</code> option <code>NoCommitizenFoundException</code> 1 Using a cz (e.g., <code>cz_jira</code>) that cannot be found in your system <code>NotAGitProjectError</code> 2 Not in a git project <code>NoCommitsFoundError</code> 3 No commits found <code>NoVersionSpecifiedError</code> 4 Version is not specified in configuration file <code>NoPatternMapError</code> 5 bump / changelog pattern or map can not be found in configuration file <code>BumpCommitFailedError</code> 6 Commit failed when bumping version <code>BumpTagFailedError</code> 7 Tag failed when bumping version <code>NoAnswersError</code> 8 No user response given <code>CommitError</code> 9 git commit error <code>NoCommitBackupError</code> 10 Commit backup file is not found <code>NothingToCommitError</code> 11 Nothing in staging to be committed <code>CustomError</code> 12 <code>CzException</code> raised <code>NoCommandFoundError</code> 13 No command found when running Commitizen cli (e.g., <code>cz --debug</code>) <code>InvalidCommitMessageError</code> 14 The commit message does not pass <code>cz check</code> <code>MissingConfigError</code> 15 Configuration is missing for <code>cz_customize</code> <code>NoRevisionError</code> 16 No revision found <code>CurrentVersionNotFoundError</code> 17 Current version cannot be found in <code>version_files</code> <code>InvalidCommandArgumentError</code> 18 The argument provided to the command is invalid (e.g. <code>cz check -commit-msg-file filename --rev-range master..</code>) <code>InvalidConfigurationError</code> 19 An error was found in the Commitizen Configuration, such as duplicates in <code>change_type_order</code> <code>NotAllowed</code> 20 Invalid combination of command line / configuration file options <code>NoneIncrementExit</code> 21 The commits found are not eligible to be bumped <code>CharacterSetDecodeError</code> 22 The character encoding of the command output could not be determined <code>GitCommandError</code> 23 Unexpected failure while calling a git command <code>InvalidManualVersion</code> 24 Manually provided version is invalid <code>InitFailedError</code> 25 Failed to initialize pre-commit <code>RunHookError</code> 26 An error occurred during a hook execution <code>VersionProviderUnknown</code> 27 Unknown <code>version_provider</code> <code>VersionSchemeUnknown</code> 28 Unknown <code>version_scheme</code> <code>ChangelogFormatUnknown</code> 29 Unknown <code>changelog_format</code> or cannot be determined by the file extension <code>ConfigFileNotFound</code> 30 The configuration file is not found <code>ConfigFileIsEmpty</code> 31 The configuration file is empty <code>CommitMessageLengthLimitExceededError</code> 32 The commit message length exceeds the given limit."},{"location":"exit_codes/#ignoring-exit-codes","title":"Ignoring Exit Codes","text":"<p>In some scenarios, you may want Commitizen to continue execution even when certain errors occur. This is particularly useful in CI/CD pipelines where you want to handle specific errors gracefully.</p>"},{"location":"exit_codes/#using-no-raise-flag","title":"Using <code>--no-raise</code> Flag","text":"<p>The <code>--no-raise</code> (or <code>-nr</code>) flag allows you to specify exit codes that should not cause Commitizen to exit with an error. You can use either:</p> <ul> <li>Exit code numbers: <code>21</code>, <code>3</code>, <code>4</code></li> <li>Exit code names: <code>NO_INCREMENT</code>, <code>NO_COMMITS_FOUND</code>, <code>NO_VERSION_SPECIFIED</code></li> <li>Mixed format: <code>21,NO_COMMITS_FOUND,4</code></li> </ul> <p>Multiple exit codes can be specified as a comma-separated list.</p>"},{"location":"exit_codes/#common-use-cases","title":"Common Use Cases","text":""},{"location":"exit_codes/#ignoring-no-increment-errors","title":"Ignoring No Increment Errors","text":"<p>The most common use case is to ignore <code>NoneIncrementExit</code> (exit code 21) when running <code>cz bump</code>. This allows the command to succeed even when no commits are eligible for a version bump:</p> <pre><code>cz -nr 21 bump\n</code></pre> <p>Or using the exit code name:</p> <pre><code>cz -nr NO_INCREMENT bump\n</code></pre> <p>This is useful in CI pipelines where you want to run <code>cz bump</code> regularly, but don't want the pipeline to fail when there are no version-worthy commits.</p>"},{"location":"exit_codes/#ignoring-multiple-exit-codes","title":"Ignoring Multiple Exit Codes","text":"<p>You can ignore multiple exit codes at once:</p> <pre><code>cz --no-raise 21,3,4 bump\n</code></pre> <p>This example ignores:</p> <ul> <li><code>21</code> (<code>NoneIncrementExit</code>) - No eligible commits for bump</li> <li><code>3</code> (<code>NoCommitsFoundError</code>) - No commits found</li> <li><code>4</code> (<code>NoVersionSpecifiedError</code>) - Version not specified</li> </ul>"},{"location":"exit_codes/#finding-the-exit-code","title":"Finding the Exit Code","text":"<p>If you encounter an error and want to ignore it, you can find the exit code in two ways:</p>"},{"location":"exit_codes/#method-1-check-the-exit-code-after-running","title":"Method 1: Check the Exit Code After Running","text":"<p>After running a Commitizen command that fails, check the exit code:</p> <pre><code>cz bump\necho $?  # Prints the exit code (e.g., 21)\n</code></pre> <p>Then use that exit code with <code>--no-raise</code>:</p> <pre><code>cz -nr 21 bump\n</code></pre>"},{"location":"exit_codes/#method-2-look-up-the-exception","title":"Method 2: Look Up the Exception","text":"<ol> <li>Check the error message to identify the exception type</li> <li>Find the corresponding exit code in the table above</li> <li>Use that exit code with <code>--no-raise</code></li> </ol> <p>For example, if you see <code>NoneIncrementExit</code> in the error, look it up in the table to find it's exit code 21, then use:</p> <pre><code>cz -nr 21 bump\n</code></pre>"},{"location":"exit_codes/#best-practices","title":"Best Practices","text":"<ul> <li>Document your usage: If you use <code>--no-raise</code> in scripts or CI/CD, document why specific exit codes are ignored</li> <li>Be specific: Only ignore exit codes you understand and have a reason to ignore</li> <li>Test thoroughly: Ensure that ignoring certain exit codes doesn't mask real problems in your workflow</li> <li>Use exit code names: When possible, use exit code names (e.g., <code>NO_INCREMENT</code>) instead of numbers for better readability</li> </ul>"},{"location":"exit_codes/#example-cicd-pipeline","title":"Example: CI/CD Pipeline","text":"<p>Here's an example of using <code>--no-raise</code> in a CI/CD pipeline:</p> <pre><code># .github/workflows/release.yml\n- name: Bump version\n  run: |\n    cz -nr NO_INCREMENT bump || true\n    # Continue even if no version bump is needed\n</code></pre> <p>This ensures the pipeline continues even when there are no commits eligible for a version bump.</p>"},{"location":"external_links/","title":"Resources","text":"<p>If you have written over Commitizen, make a PR and add the link here \ud83d\udcaa</p>"},{"location":"external_links/#talks","title":"Talks","text":"Name Speaker Occasion Language Extra Atomic Commits: An Easy &amp; Proven Way to Manage &amp; Automate Release Process Wei Lee COSCUP 2023 Taiwanese Mandarin slides commitizen-tools: What can we gain from crafting a git message convention Wei Lee Taipei.py 2020 June Meetup, Remote Python Pizza 2020 English slides Automating release cycles Santiago Fraire PyAmsterdam June 24, 2020, Online English slides Automatizando Releases con Commitizen y Github Actions Santiago Fraire PyConAr 2020, Remote Espa\u00f1ol slides"},{"location":"external_links/#articles","title":"Articles","text":"<ul> <li>Python Table Manners - Commitizen: \u898f\u683c\u5316 commit message (Written in Traditional Mandarin)</li> <li>Automating semantic release with commitizen (English)</li> <li>How to Write Better Git Commit Messages \u2013 A Step-By-Step Guide (English)</li> <li>Continuous delivery made easy (in Python)</li> </ul>"},{"location":"faq/","title":"FAQ","text":"<p>This page contains frequently asked how to questions.</p>"},{"location":"faq/#support-for-pep621","title":"Support for <code>PEP621</code>","text":"<p><code>PEP621</code> establishes a <code>[project]</code> definition inside <code>pyproject.toml</code></p> <pre><code>[project]\nname = \"spam\"\nversion = \"2.5.1\"\n</code></pre> <p>Commitizen provides a <code>PEP621</code> version provider to get and set version from this field.</p> <p>You just need to set the proper <code>version_provider</code> setting:</p> <pre><code>[project]\nname = \"spam\"\nversion = \"2.5.1\"\n\n[tool.commitizen]\nversion_provider = \"pep621\"\n</code></pre>"},{"location":"faq/#how-to-revert-a-bump","title":"How to revert a bump?","text":"<p>If for any reason, the created tag and changelog were to be undone, this is the snippet:</p> <pre><code>git tag --delete &lt;created_tag&gt;\ngit reset HEAD~\ngit reset --hard HEAD\n</code></pre> <p>This will remove the last tag created, plus the commit containing the update to <code>.cz.toml</code> and the changelog generated for the version.</p> <p>In case the commit was pushed to the server, you can remove it by running:</p> <pre><code>git push --delete origin &lt;created_tag&gt;\n</code></pre>"},{"location":"faq/#how-to-handle-revert-commits","title":"How to handle revert commits?","text":"<pre><code>git revert --no-commit &lt;SHA&gt;\ngit commit -m \"revert: foo bar\"\n</code></pre>"},{"location":"faq/#i-got-exception-winerror-995-the-io-operation-error","title":"I got <code>Exception [WinError 995] The I/O operation ...</code> error","text":"<p>This error was caused by a Python bug on Windows. It's been fixed by cpython #22017, and according to Python's changelog, 3.8.6rc1 and 3.9.0rc2 should be the accurate versions first contain this fix. In conclusion, upgrade your Python version might solve this issue.</p> <p>More discussion can be found in issue #318.</p>"},{"location":"faq/#how-to-change-the-tag-format","title":"How to change the tag format ?","text":"<p>You can use the <code>legacy_tag_formats</code> to list old tag formats. New bumped tags will be in the new format but old ones will still work for:</p> <ul> <li>changelog generation (full, incremental and version range)</li> <li>bump new version computation (automatically guessed or increment given)</li> </ul> <p>So given if you change from <code>myproject-$version</code> to <code>${version}</code> and then <code>v${version}</code>, your Commitizen configuration will look like this:</p> <pre><code>tag_format = \"v${version}\"\nlegacy_tag_formats = [\n    \"${version}\",\n    \"myproject-$version\",\n]\n</code></pre>"},{"location":"faq/#how-to-avoid-warnings-for-expected-non-version-tags","title":"How to avoid warnings for expected non-version tags?","text":"<p>You can explicitly ignore them with <code>ignored_tag_formats</code>.</p> <pre><code>tag_format = \"v${version}\"\nignored_tag_formats = [\n    \"stable\",\n    \"component-*\",\n    \"env/*\",\n    \"v${major}.${minor}\",\n]\n</code></pre>"},{"location":"features_wont_add/","title":"Feature request graveyard","text":"<p>This page contains features and designs that have been proposed or considered but won't be implemented in Commitizen.</p> <p>For a comprehensive list, please refer to our issue tracker.</p>"},{"location":"features_wont_add/#enable-multiple-locations-of-config-file-cz-955","title":"Enable multiple locations of config file <code>.cz.*</code> #955","text":""},{"location":"features_wont_add/#create-a-flag-to-build-the-changelog-from-commits-in-multiple-git-repositories-790","title":"Create a flag to build the changelog from commits in multiple git repositories #790","text":""},{"location":"features_wont_add/#global-configuration-597","title":"Global Configuration #597","text":""},{"location":"features_wont_add/#why-are-revert-and-chore-valid-types-in-the-check-pattern-of-cz_conventional_commits-but-not-types-we-can-select","title":"Why are <code>revert</code> and <code>chore</code> valid types in the check pattern of <code>cz_conventional_commits</code> but not types we can select?","text":"<p><code>revert</code> and <code>chore</code> are added to the <code>pattern</code> in <code>cz check</code> in order to prevent backward errors, but officially they are not part of conventional commits, we are using the latest types from Angular (they used to but were removed). However, you can create a customized <code>cz</code> with those extra types. (See Customization).</p> <p>See more discussion in</p> <ul> <li>issue #142</li> <li>issue #36</li> </ul>"},{"location":"features_wont_add/#why-does-commitizen-not-support-calver","title":"Why does Commitizen not support CalVer?","text":"<p><code>commitizen</code> could support CalVer alongside SemVer, but in practice implementing CalVer creates numerous edge cases that are difficult to maintain (#385) and more generally, mixing the two version schemes may not be a good idea. If CalVer or other custom versioning scheme is needed, <code>commitizen</code> could still be used to standardize commits and create changelogs, but a separate package should be used for version increments.</p> <p>Mixing CalVer and SemVer is generally not recommended because each versioning scheme serves a different purpose. Diverging from either specification can be confusing to users and cause errors with third-party tools that don't expect the non-standard format.</p> <p>In the future, <code>commitizen</code> may support some implementation of CalVer, but at the time of writing, there are no plans to implement the feature (#173).</p> <p>If you would like to learn more about both schemes, there are plenty of good resources:</p> <ul> <li>Announcing CalVer</li> <li>API Versioning from Stripe</li> <li>Discussion about pip's use of CalVer</li> <li>Git Version Numbering</li> <li>SemVer vs. CalVer and Why I Use Both (but not at the same time)</li> <li>Semver Will Not Save You</li> <li>Why I Don't Like SemVer</li> </ul>"},{"location":"features_wont_add/#why-dont-we-use-pydantic","title":"Why don't we use Pydantic?","text":"<p>While Pydantic is a powerful and popular library for data validation, we intentionally avoid using it in this project to keep our dependency tree minimal and maintainable.</p> <p>Including Pydantic would increase the chances of version conflicts for users - especially with major changes introduced in Pydantic v3. Because we pin dependencies tightly, adding Pydantic could unintentionally restrict what other tools or libraries users can install alongside <code>commitizen</code>.</p> <p>Moreover we don't rely on the full feature set of Pydantic. Simpler alternatives like Python's built-in <code>TypedDict</code> offer sufficient type safety for our use cases, without the runtime overhead or dependency burden.</p> <p>In short, avoiding Pydantic helps us:</p> <ul> <li>Keep dependencies lightweight</li> <li>Reduce compatibility issues for users</li> <li>Maintain clarity about what contributors should and shouldn't use</li> </ul>"},{"location":"history/","title":"History","text":""},{"location":"history/#is-this-project-affiliated-with-the-cz-cli-project","title":"Is this project affiliated with the cz-cli project?","text":"<p>It is not affiliated.</p> <p>Both are used for similar purposes, parsing commits, generating changelog and version we presume. Our Commitizen project is written in python to make integration easier for python projects, whereas cz-cli is written in JavaScript and serves the JS packages.</p> <p>They differ a bit in design, not sure if cz-cli does any of this, but these are some things you can do with our Commitizen:</p> <ul> <li>create custom rules, version bumps and changelog generation. By default, we use the popular conventional commits (I think cz-cli allows this).</li> <li>single package, install one thing and it will work. cz-cli is a monorepo, but you have to install different dependencies as far as I know.</li> <li>pre-commit integration</li> <li>works on any language project, as long as you create the <code>.cz.toml</code> or <code>cz.toml</code> file.</li> </ul> <p>Where do they cross paths?</p> <p>If you are using conventional commits in your git history, then you could swap one with the other in theory.</p> <p>Regarding the name, cz-cli came first, they used the word Commitizen first. When this project was created originally, the creator read \"be a good commitizen\", and thought it was just a cool word that made sense, and this would be a package that helps you be a good \"commit citizen\".</p>"},{"location":"commands/bump/","title":"bump","text":""},{"location":"commands/bump/#about","title":"About","text":"<p><code>cz bump</code> is a powerful command that automatically determines and increases your project's version number based on your commit history.</p> <p>It analyzes your commits to determine the appropriate version increment according to semantic versioning principles.</p> <p>Note</p> <p>In the following documentation, the term \"configuration file\" refers to <code>pyproject.toml</code>, <code>.cz.toml</code> or other configuration files.</p> <p>We will use <code>pyproject.toml</code> as the configuration file throughout the documentation.</p> <p>See Configuration file for more details.</p>"},{"location":"commands/bump/#key-features","title":"Key Features","text":"<ul> <li>Automatic Version Detection: Analyzes commit history to determine the appropriate version bump</li> <li>Manual Version Control: Supports manual version specification when needed</li> <li>Pre-release Support: Handles alpha, beta, and release candidate versions</li> <li>Multiple Version Schemes: Supports both PEP 440 and semantic versioning formats</li> </ul>"},{"location":"commands/bump/#version-increment-rules","title":"Version Increment Rules","text":"<p>The version follows the <code>MAJOR.MINOR.PATCH</code> format, with increments determined by your commit types:</p> Increment Description Conventional commit map <code>MAJOR</code> Breaking changes introduced <code>BREAKING CHANGE</code>, bang (e.g. <code>feat!</code>) <code>MINOR</code> New features <code>feat</code> <code>PATCH</code> Fixes and improvements <code>fix</code>, <code>perf</code>, <code>refactor</code>"},{"location":"commands/bump/#-version-scheme","title":"<code>--version-scheme</code>","text":"<p>By default, Commitizen uses PEP 440 for version formatting. You can switch to semantic versioning using either:</p> <ol> <li> <p>Command line: <pre><code>cz bump --version-scheme semver\n</code></pre></p> </li> <li> <p>Configuration file: pyproject.toml<pre><code>[tool.commitizen]\nversion_scheme = \"semver\"\n</code></pre></p> </li> </ol> <p>Available options are:</p> <ul> <li><code>pep440</code>: PEP 440 (default and recommended for Python projects)</li> <li><code>semver</code>: Semantic Versioning (recommended for non-Python projects)</li> </ul> <p>You can also set this in the configuration file with <code>version_scheme = \"semver\"</code>.</p> <p>Note</p> <p>pep440 and semver are quite similar, although their difference lies in how the prereleases look. For example, <code>0.3.1a0</code> in pep440 is equivalent to <code>0.3.1-a0</code> in semver.</p> <p>The following table illustrates the difference between the two schemes:</p> Version Type pep440 semver Non-prerelease <code>0.1.0</code> <code>0.1.0</code> Prerelease <code>0.3.1a0</code> <code>0.3.1-a0</code> Devrelease <code>0.1.1.dev1</code> <code>0.1.1-dev1</code> Dev and pre <code>1.0.0a3.dev1</code> <code>1.0.0-a3-dev1</code> <p>Incomplete Version Handling</p> <p>Commitizen treats a three-part version (major.minor.patch) as complete. If your configured version is incomplete (for example, <code>1</code> or <code>1.2</code>), Commitizen pads missing parts with zeros when it needs <code>major/minor/patch</code> for tag formatting. The tag output depends on your <code>tag_format</code>: formats using <code>${version}</code> keep <code>1</code>/<code>1.2</code>, while formats using <code>${major}.${minor}.${patch}</code> will render <code>1.0.0</code>/<code>1.2.0</code>.</p> <p>When bumping from an incomplete version, Commitizen looks for the latest existing tag that matches the provided release prefix. For example, if the current version is <code>1.2</code> and the latest <code>1.2.x</code> tag is <code>1.2.3</code>, then a patch bump yields <code>1.2.4</code> and a minor bump yields <code>1.3.0</code>.</p> <p>Tip</p> <p>To control the behaviour of bumping and version parsing, you may implement your own <code>version_scheme</code> by inheriting from <code>commitizen.version_schemes.BaseVersion</code> or use an existing plugin package.</p>"},{"location":"commands/bump/#pep440-version-examples","title":"PEP440 Version Examples","text":"<p>Commitizen supports the PEP 440 version format, which includes several version types. Here are examples of each:</p>"},{"location":"commands/bump/#standard-releases","title":"Standard Releases","text":"<pre><code>0.9.0    # Initial development release\n0.9.1    # Patch release\n0.9.2    # Another patch release\n0.9.10   # Tenth patch release\n0.9.11   # Eleventh patch release\n1.0.0    # First stable release\n1.0.1    # Patch release after stable\n1.1.0    # Minor feature release\n2.0.0    # Major version release\n</code></pre>"},{"location":"commands/bump/#pre-releases","title":"Pre-releases","text":"<pre><code>1.0.0a0  # Alpha release 0\n1.0.0a1  # Alpha release 1\n1.0.0b0  # Beta release 0\n1.0.0rc0 # Release candidate 0\n1.0.0rc1 # Release candidate 1\n</code></pre>"},{"location":"commands/bump/#development-releases","title":"Development Releases","text":"<pre><code>1.0.0.dev0  # Development release 0\n1.0.0.dev1  # Development release 1\n</code></pre>"},{"location":"commands/bump/#combined-pre-release-and-development","title":"Combined Pre-release and Development","text":"<pre><code>1.0.0a1.dev0  # Development release 0 of alpha 1\n1.0.0b2.dev1  # Development release 1 of beta 2\n</code></pre> <p>Note: <code>post</code> releases (e.g., <code>1.0.0.post1</code>) are not currently supported.</p>"},{"location":"commands/bump/#command-line-options","title":"Command line options","text":""},{"location":"commands/bump/#-version-files-only","title":"<code>--version-files-only</code>","text":"<p>Bumps the version in the files defined in <code>version_files</code> without creating a commit and tag on the git repository.</p> <pre><code>cz bump --version-files-only\n</code></pre>"},{"location":"commands/bump/#-changelog","title":"<code>--changelog</code>","text":"<p>Generate a changelog along with the new version and tag when bumping. See changelog for more details.</p> <pre><code>cz bump --changelog\n</code></pre>"},{"location":"commands/bump/#-prerelease","title":"<code>--prerelease</code>","text":"<p>The bump is a pre-release bump, meaning that in addition to a possible version bump the new version receives a pre-release segment compatible with the bump's version scheme, where the segment consists of a phase and a non-negative number. Supported options for <code>--prerelease</code> are the following phase names <code>alpha</code>, <code>beta</code>, or <code>rc</code> (release candidate). For more details, refer to the Python Packaging User Guide.</p> <p>Note that as per semantic versioning spec</p> <p>Pre-release versions have a lower precedence than the associated normal version. A pre-release version indicates that the version is unstable and might not satisfy the intended compatibility requirements as denoted by its associated normal version.</p> <p>For example, the following versions (using the PEP 440 scheme) are ordered by their precedence and showcase how a release might flow through a development cycle:</p> <ul> <li><code>1.0.0</code> is the currently published version</li> <li><code>1.0.1a0</code> after committing a <code>fix:</code> for pre-release</li> <li><code>1.1.0a1</code> after committing an additional <code>feat:</code> for pre-release</li> <li><code>1.1.0b0</code> after bumping a beta release</li> <li><code>1.1.0rc0</code> after bumping the release candidate</li> <li><code>1.1.0</code> next feature release</li> </ul>"},{"location":"commands/bump/#-increment-mode","title":"<code>--increment-mode</code>","text":""},{"location":"commands/bump/#-increment-modelinear-default","title":"<code>--increment-mode=linear</code> (default)","text":"<p>Ensures that bumping pre-releases maintains linearity.</p> <p>Bumping a pre-release with lower precedence than the current pre-release phase maintains the current phase of higher precedence. For example, if the current version is <code>1.0.0b1</code> then bumping with <code>--prerelease alpha</code> will continue to bump the beta phase.</p>"},{"location":"commands/bump/#-increment-modeexact","title":"<code>--increment-mode=exact</code>","text":"<p>Applies the exact changes that have been specified with <code>--increment</code> or determined from the commit log. For example, <code>--prerelease beta</code> will always result in a <code>b</code> tag, and <code>--increment PATCH</code> will always increase the patch component.</p>"},{"location":"commands/bump/#examples","title":"Examples","text":"<p>The following table illustrates the difference in behavior between the two modes:</p> Increment Pre-release Start Version <code>--increment-mode=linear</code> <code>--increment-mode=exact</code> <code>MAJOR</code> <code>2.0.0b0</code> <code>2.0.0</code> <code>3.0.0</code> <code>MINOR</code> <code>2.0.0b0</code> <code>2.0.0</code> <code>2.1.0</code> <code>PATCH</code> <code>2.0.0b0</code> <code>2.0.0</code> <code>2.0.1</code> <code>MAJOR</code> <code>alpha</code> <code>2.0.0b0</code> <code>3.0.0a0</code> <code>3.0.0a0</code> <code>MINOR</code> <code>alpha</code> <code>2.0.0b0</code> <code>2.0.0b1</code> <code>2.1.0a0</code> <code>PATCH</code> <code>alpha</code> <code>2.0.0b0</code> <code>2.0.0b1</code> <code>2.0.1a0</code>"},{"location":"commands/bump/#-check-consistency","title":"<code>--check-consistency</code>","text":"<p>Check whether the versions defined in version_files and the version in Commitizen configuration are consistent before bumping version.</p> <pre><code>cz bump --check-consistency\n</code></pre> <p>For example, if we have the following configuration file <code>pyproject.toml</code>:</p> pyproject.toml<pre><code>[tool.commitizen]\nversion = \"1.21.0\"\nversion_files = [\n    \"src/__version__.py\",\n    \"setup.py\",\n]\n</code></pre> <p>and the following version files <code>src/__version__.py</code> and <code>setup.py</code>:</p> src/__version__.py<pre><code>__version__ = \"1.21.0\"\n</code></pre> setup.py<pre><code>from setuptools import setup\n\nsetup(..., version=\"1.0.5\", ...)\n</code></pre> <p>When you run <code>cz bump --check-consistency</code>, Commitizen will verify that the current version in <code>pyproject.toml</code> (<code>1.21.0</code>) exists in all files listed in version_files. In this example, it will detect that <code>setup.py</code> contains <code>1.0.5</code> instead of <code>1.21.0</code>, causing the bump to fail.</p> <p>Partial updates on failure</p> <p>If the consistency check fails, Commitizen may have already updated some files (like <code>pyproject.toml</code> and <code>src/__version__.py</code>) before detecting the inconsistency. In this case, you'll need to restore the files to their previous state.</p> <p>To resolve this issue:</p> <ol> <li> <p>Restore the modified files to their previous state:   <pre><code>git checkout .\n</code></pre></p> </li> <li> <p>Manually update the version in <code>setup.py</code> to match the version in <code>pyproject.toml</code>:   setup.py<pre><code>from setuptools import setup\n\n- setup(..., version=\"1.0.5\", ...)\n+ setup(..., version=\"1.21.0\", ...)\n</code></pre></p> </li> <li> <p>Run the bump command again:   <pre><code>cz bump --check-consistency\n</code></pre></p> </li> </ol>"},{"location":"commands/bump/#-local-version","title":"<code>--local-version</code>","text":"<p>Bump the local portion of the version.</p> <p>For example, if we have the following configuration file <code>pyproject.toml</code>:</p> pyproject.toml<pre><code>[tool.commitizen]\nversion = \"5.3.5+0.1.0\"\n</code></pre> <p>When you run <code>cz bump --local-version</code>, it will bump only the local version <code>0.1.0</code> and keep the public version <code>5.3.5</code> intact, bumping to the version <code>5.3.5+0.2.0</code>.</p>"},{"location":"commands/bump/#-annotated-tag","title":"<code>--annotated-tag</code>","text":"<p>Create annotated tags.</p> <p>It is also available via configuration files.</p> <p>For example, in <code>pyproject.toml</code>:</p> pyproject.toml<pre><code>[tool.commitizen]\nannotated_tag = true\n</code></pre> <p>Note</p> <p>By default, Commitizen uses lightweight tags.</p>"},{"location":"commands/bump/#-annotated-tag-message","title":"<code>--annotated-tag-message</code>","text":"<p>Create annotated tags with the given message.</p> <p>It is also available via configuration files.</p> <p>For example, in <code>pyproject.toml</code>:</p> pyproject.toml<pre><code>[tool.commitizen]\nannotated_tag_message = \"Annotated tag message\"\n</code></pre>"},{"location":"commands/bump/#-changelog-to-stdout","title":"<code>--changelog-to-stdout</code>","text":"<p>Send the incremental changelog generated by <code>cz bump</code> to <code>stdout</code>. Any other messages generated by <code>cz bump</code> will be sent to <code>stderr</code>.</p> <p>When this flag is used, <code>--changelog</code> is implied. However, it is recommended to set <code>--changelog</code> (or the setting <code>update_changelog_on_bump</code>) explicitly when the option <code>--changelog-to-stdout</code> is used.</p> <p>Useful scenarios</p> <p>Pipe the newly created changelog to another tool.</p> <p>The output can be redirected to an auditing system, or used to create a GitHub Release, etc.</p> <pre><code>cz bump --changelog --changelog-to-stdout &gt; body.md\n</code></pre>"},{"location":"commands/bump/#-git-output-to-stderr","title":"<code>--git-output-to-stderr</code>","text":"<p>Redirects git commands output to <code>stderr</code>.</p> <p>Useful when used with <code>--changelog-to-stdout</code> and piping the output to a file.</p> <p>For example, <code>git commit</code> output may pollute <code>stdout</code>, so it is recommended to use this flag when piping the output to a file.</p>"},{"location":"commands/bump/#-retry","title":"<code>--retry</code>","text":"<p>If you use tools like pre-commit, you can add this flag. It will retry the commit if it fails the first time.</p> <p>Useful to combine with code formatters, like Prettier.</p>"},{"location":"commands/bump/#-major-version-zero","title":"<code>--major-version-zero</code>","text":"<p>Breaking changes do not bump the major version number.</p> <p>Say you have a project with the version <code>0.1.x</code> and you commit a breaking change like this:</p> <pre><code>fix(magic)!: fully deprecate whatever\n</code></pre> <p>and you run</p> <pre><code>cz bump --major-version-zero\n</code></pre> <p>Then the version of your project will be bumped to <code>0.2.0</code> instead of <code>1.0.0</code>.</p> <p>Note</p> <p>A project in its initial development should have a major version zero, and even breaking changes should not bump that major version from zero. This command ensures that behavior.</p> <p>We recommend setting <code>major_version_zero = true</code> in your configuration file while a project is in its initial development. Remove that configuration using a breaking-change commit to bump your project's major version to <code>v1.0.0</code> once your project has reached maturity.</p> <p>Warning</p> <p>This option is only compatible with projects that have major version number zero, <code>0.x.x</code> for example.</p> <p>It fails when used with projects that have a version number greater than zero like <code>1.x.x</code>.</p> <p>If used together with a manual version, the command also fails.</p> <pre><code># This fails\ncz bump 0.1.0 --major-version-zero\n</code></pre>"},{"location":"commands/bump/#-gpg-sign","title":"<code>--gpg-sign</code>","text":"<p>Creates gpg signed tags.</p> <pre><code>cz bump --gpg-sign\n</code></pre> <p>Note</p> <p>By default, Commitizen uses lightweight tags.</p>"},{"location":"commands/bump/#-template","title":"<code>--template</code>","text":"<p>Provides your own changelog jinja template. See the template customization section</p>"},{"location":"commands/bump/#-extra","title":"<code>--extra</code>","text":"<p>Provides your own changelog extra variables by using the <code>extras</code> settings or the <code>--extra/-e</code> parameter.</p> <pre><code>cz bump --changelog --extra key=value -e short=\"quoted value\"\n</code></pre> <p>See the template customization section.</p>"},{"location":"commands/bump/#-build-metadata","title":"<code>--build-metadata</code>","text":"<p>Specifies additional metadata in the version string.</p> <pre><code># creates a version like `1.1.2+yourmetadata`.\ncz bump --build-metadata yourmetadata\n</code></pre> <p>Example usage</p> <ul> <li>Git hash in version</li> <li>Labeling the version with additional metadata.</li> </ul> <p>Note</p> <p>Commitizen ignores everything after <code>+</code> when it bumps the version.</p> <p>It is therefore safe to write different build-metadata between versions.</p> <p>Warning</p> <p>Normally, you should not use this functionality, but if you decide to do so, keep in mind that:</p> <ul> <li>Version <code>1.2.3+a</code>, and <code>1.2.3+b</code> are the same version! Tools should not use the string after <code>+</code> for version calculation. This is probably not a guarantee (example in helm) even tho it is in the spec.</li> <li>It might be problematic having the metadata in place when doing upgrades depending on what tool you use.</li> </ul> <p>Warning</p> <p>This parameter is not compatible with <code>--local-version</code> as it uses the same part of the version string.</p>"},{"location":"commands/bump/#-get-next","title":"<code>--get-next</code>","text":"<p>Similar to <code>--dry-run</code> but only outputs the next version.</p> <pre><code># outputs 1.0.1 if the current version is 1.0.0 and the increment is PATCH\ncz bump --get-next\n</code></pre> <p>Useful for determining the next version based on CI for non-production environments/builds.</p> <p>Compare with <code>--dry-run</code></p> <p><code>--dry-run</code> provides a more detailed output including the changes as they would appear in the changelog file, while <code>--get-next</code> only outputs the next version.</p> <p>The following is the output of <code>cz bump --dry-run</code>:</p> <pre><code>bump: version 3.28.0 \u2192 3.29.0\ntag to create: v3.29.0\nincrement detected: MINOR\n</code></pre> <p>The following is the output of <code>cz bump --get-next</code>:</p> <pre><code>3.29.0\n</code></pre> <p>Warning</p> <p>The <code>--get-next</code> flag will raise a <code>NoneIncrementExit</code> if the found commits are not eligible for a version bump.</p> <p>For information on how to suppress this exit, see Ignoring Exit Codes.</p>"},{"location":"commands/bump/#-allow-no-commit","title":"<code>--allow-no-commit</code>","text":"<p>Allow the project version to be bumped even when there's no eligible version.</p> <p>Example usage:</p> <pre><code># Force to bump a minor version\ncz bump --increment MINOR --allow-no-commit\n\n# bump version to 2.0.0 even when there's no breaking changes or even no commits\ncz bump --allow-no-commit 2.0.0\n</code></pre> <p>Default increment</p> <p>The increment is overridden to <code>PATCH</code> if there is no increment detected or specified.</p> <p>In other words, <code>cz bump --allow-no-commit</code> allows you to bump the version to the next patch version even when there is no eligible commit.</p> <pre><code># will bump to `1.0.1` if the current version is `1.0.0`.\ncz bump --allow-no-commit\n\n# bump version to 2.0.0 even when there's no breaking changes or even no commits\ncz bump --allow-no-commit 2.0.0\n</code></pre>"},{"location":"commands/bump/#-tag-format","title":"<code>--tag-format</code>","text":"<p><code>tag_format</code> and [version_scheme][version_scheme] are combined to make Git tag names from versions.</p> <p>These are used in:</p> <ul> <li><code>cz bump</code>: Find previous release tag (exact match) and generate new tag.</li> <li>Find previous release tags in <code>cz changelog</code>.</li> <li>If <code>--incremental</code>: Using the latest version found in the changelog, scan existing Git tags with 89\\% similarity match.</li> <li><code>--rev-range</code> is converted to Git tag names with <code>tag_format</code> before searching Git history.</li> <li>If the <code>scm</code> <code>version_provider</code> is used, it uses different regexes to find the previous version tags:</li> <li>If <code>tag_format</code> is set to <code>$version</code> (default): <code>VersionProtocol.parser</code> (allows <code>v</code> prefix)</li> <li>If <code>tag_format</code> is set: Custom regex similar to SemVer (not as lenient as PEP440 e.g. on dev-releases)</li> </ul> <p>Commitizen supports two types of formats, a simple and a more complex.</p> <pre><code>cz bump --tag-format=\"v$version\"\n</code></pre> <pre><code>cz bump --tag-format=\"v$minor.$major.$patch$prerelease.$devrelease\"\n</code></pre> <p>In your configuration file:</p> <pre><code>[tool.commitizen]\ntag_format = \"v$major.$minor.$patch$prerelease\"\n</code></pre> <p>The variables must be preceded by a <code>$</code> sign and optionally can be wrapped in <code>{}</code>. The default is <code>$version</code>.</p> <p>Supported variables:</p> Variable Description <code>$version</code>, <code>${version}</code> fully generated version <code>$major</code>, <code>${major}</code> MAJOR increment <code>$minor</code>, <code>${minor}</code> MINOR increment <code>$patch</code>, <code>${patch}</code> PATCH increment <code>$prerelease</code>, <code>${prerelease}</code> Prerelease (alpha, beta, release candidate) <code>$devrelease</code>, <code>${devrelease}</code> Development release"},{"location":"commands/bump/#-yes","title":"<code>--yes</code>","text":"<p>Automatically answers \u201cyes\u201d to all interactive prompts during the bump process, allowing the command to run without manual confirmation.</p> <pre><code>cz bump --yes\n</code></pre>"},{"location":"commands/changelog/","title":"changelog","text":""},{"location":"commands/changelog/#about","title":"About","text":"<p>Generates a changelog following the committing rules established.</p> <p>Tip</p> <p>To create the changelog automatically on bump, add the setting update_changelog_on_bump</p> <pre><code>[tool.commitizen]\nupdate_changelog_on_bump = true\n</code></pre>"},{"location":"commands/changelog/#usage","title":"Usage","text":""},{"location":"commands/changelog/#examples","title":"Examples","text":"<pre><code># Generate full changelog\ncz changelog\n\n# Or use the alias\ncz ch\n\n# Get the changelog for the given version\ncz changelog 0.3.0 --dry-run\n\n# Get the changelog for the given version range\ncz changelog 0.3.0..0.4.0 --dry-run\n</code></pre>"},{"location":"commands/changelog/#constraints","title":"Constraints","text":"<p>Changelog generation is constrained only to markdown files.</p>"},{"location":"commands/changelog/#description","title":"Description","text":"<p>These are the variables used by the changelog generator.</p> <pre><code># &lt;version&gt; (&lt;date&gt;)\n\n## &lt;change_type&gt;\n\n- **&lt;scope&gt;**: &lt;message&gt;\n</code></pre> <p>Creates a full block like above per version found in the tags, and a list of the commits found. The <code>change_type</code> and <code>scope</code> are optional and don't need to be provided, but if your regex parses them, they will be rendered.</p> <p>The format followed by the changelog is from keep a changelog and the following variables are expected:</p> Variable Description Source <code>version</code> Version number which should follow semver <code>tags</code> <code>date</code> Date when the tag was created <code>tags</code> <code>change_type</code> The group where the commit belongs to, this is optional. Example: fix <code>commit regex</code> <code>message</code> Information extracted from the commit message <code>commit regex</code> <code>scope</code> Contextual information. Should be parsed using the regex from the message, it will be bold <code>commit regex</code> <code>breaking</code> Whether it is a breaking change or not <code>commit regex</code> <p>Note</p> <p><code>message</code> is the only variable required to be parsed by the regex.</p>"},{"location":"commands/changelog/#command-line-options","title":"Command line options","text":""},{"location":"commands/changelog/#-extras","title":"<code>--extras</code>","text":"<p>Provide your own changelog extra variables by using the <code>extras</code> settings or the <code>--extra/-e</code> parameter.</p> <pre><code>cz changelog --extra key=value -e short=\"quoted value\"\n</code></pre>"},{"location":"commands/changelog/#-file-name","title":"<code>--file-name</code>","text":"<p>This value can be updated in the configuration file with the key <code>changelog_file</code> under <code>tool.commitizen</code>.</p> <p>Specify the name of the output file. Note that changelog generation only works with Markdown files.</p> <pre><code>cz changelog --file-name=\"CHANGES.md\"\n</code></pre>"},{"location":"commands/changelog/#-incremental","title":"<code>--incremental</code>","text":"<p>This flag can be set in the configuration file with the key <code>changelog_incremental</code> under <code>tool.commitizen</code></p> <p>Benefits:</p> <ul> <li>Build from the latest version found in changelog. This is useful if you have an existing changelog and want to use commitizen to extend it.</li> <li>Update unreleased area</li> <li>Allows users to manually edit the changelog without it being completely rewritten.</li> </ul> <pre><code>cz changelog --incremental\n</code></pre> <pre><code>[tool.commitizen]\n# ...\nchangelog_incremental = true\n</code></pre>"},{"location":"commands/changelog/#-start-rev","title":"<code>--start-rev</code>","text":"<p>This value can be set in the configuration file with the key <code>changelog_start_rev</code> under <code>tool.commitizen</code></p> <p>Start from a given git rev to generate the changelog. Commits before that rev will not be considered. This is especially useful for long-running projects adopting conventional commits, where old commit messages might fail to be parsed for changelog generation.</p> <pre><code>cz changelog --start-rev=\"v0.2.0\"\n</code></pre> <pre><code>[tool.commitizen]\n# ...\nchangelog_start_rev = \"v0.2.0\"\n</code></pre>"},{"location":"commands/changelog/#-merge-prerelease","title":"<code>--merge-prerelease</code>","text":"<p>This flag can be set in the configuration file with the key <code>changelog_merge_prerelease</code> under <code>tool.commitizen</code></p> <p>Collects changes from prereleases into the next non-prerelease version. If you have a prerelease version followed by a normal release, the changelog will show the prerelease changes as part of the normal release. If not set, prereleases will be included as separate entries in the changelog.</p> <pre><code>cz changelog --merge-prerelease\n</code></pre> <pre><code>[tool.commitizen]\n# ...\nchangelog_merge_prerelease = true\n</code></pre>"},{"location":"commands/changelog/#-template","title":"<code>--template</code>","text":"<p>Provide your own changelog Jinja template by using the <code>template</code> settings or the <code>--template</code> parameter.</p> <pre><code>cz changelog --template=\"path/to/template.j2\"\n</code></pre>"},{"location":"commands/changelog/#-unreleased-version","title":"<code>--unreleased-version</code>","text":"<p>There is usually a chicken-and-egg situation when automatically bumping the version and creating the changelog:</p> <ul> <li>If you bump the version first, you have no changelog yet, and it won't be included in the release of the created version.</li> <li>If you create the changelog before bumping the version, you usually don't have the latest tag, and the Unreleased title appears.</li> </ul> <p>By using <code>--unreleased-version</code>, you can prevent this situation.</p> <p>Before bumping you can run:</p> <pre><code>cz changelog --unreleased-version=\"v1.0.0\"\n</code></pre> <p>Remember to use the tag format instead of the raw version number.</p> <p>For example, if your tag format includes a <code>v</code> prefix (e.g., <code>v1.0.0</code>), use that format. If your tag is the same as the raw version (e.g., <code>1.0.0</code>), use the raw version.</p> <p>Alternatively, you can directly bump the version and create the changelog by running:</p> <pre><code>cz bump --changelog\n</code></pre>"},{"location":"commands/changelog/#hooks","title":"Hooks","text":"<p>Supported hook methods:</p> <ul> <li>Per parsed message: Useful to add links to commits or issues</li> <li>End of changelog generation: Useful to send Slack or chat messages, or notify another department</li> </ul> <p>Read more about hooks in the customization page</p>"},{"location":"commands/check/","title":"check","text":"<p>This feature checks whether a string or a range of git commits follows the given committing rules. Comments in git messages will be ignored.</p> <p>To set up an automatic check before every git commit, please refer to Automatically check message before commit.</p>"},{"location":"commands/check/#usage","title":"Usage","text":"<p>More specifically, there are three mutually exclusive ways to use <code>cz check</code>:</p> <ul> <li>Validate a range of git commit messages with <code>--rev-range</code></li> <li>Validate a given string with <code>--message</code> or by piping the message to it</li> <li>Validate a commit message from a file with <code>--commit-msg-file</code></li> </ul>"},{"location":"commands/check/#use-cz-check-to-validate-a-commit-message-before-committing","title":"Use <code>cz check</code> to validate a commit message before committing","text":""},{"location":"commands/check/#option-1-use-message-to-check-a-given-string","title":"Option 1: use <code>--message</code> to check a given string:","text":"<pre><code>cz check --message &lt;message_to_be_checked&gt;\n</code></pre>"},{"location":"commands/check/#option-2-pipe-the-message-to-cz-check","title":"Option 2: pipe the message to <code>cz check</code>:","text":"<pre><code>echo &lt;message_to_be_checked&gt; | cz check\n</code></pre>"},{"location":"commands/check/#option-3-use-commit-msg-file-to-read-the-commit-message-from-a-file","title":"Option 3: use <code>--commit-msg-file</code> to read the commit message from a file","text":"<pre><code>cz check --commit-msg-file /path/to/file.txt\n</code></pre>"},{"location":"commands/check/#command-line-options","title":"Command Line Options","text":""},{"location":"commands/check/#-rev-range","title":"<code>--rev-range</code>","text":"<p>Test if a given range of commits in the git log passes <code>cz check</code>.</p> <pre><code>cz check --rev-range REV_RANGE\n</code></pre> <p>For more information on <code>REV_RANGE</code>, check the git documentation.</p>"},{"location":"commands/check/#use-cases","title":"Use cases","text":"<ol> <li> <p>Validate the latest 3 commit messages:     <pre><code>cz check --rev-range HEAD~3..HEAD\n# or\ncz check --rev-range HEAD~3..\n# or\ncz check --rev-range HEAD~~~..\n</code></pre></p> </li> <li> <p>Validate all git commit messages on some branch up to HEAD:     <pre><code>cz check --rev-range &lt;branch_name&gt;..HEAD\n</code></pre></p> <p>For example, to check all git commit messages on <code>main</code> branch up to HEAD: <pre><code>cz check --rev-range main..HEAD\n</code></pre></p> <p>or if your project still uses <code>master</code> branch: <pre><code>cz check --rev-range master..HEAD\n</code></pre></p> <p>Default branch</p> <p>Usually the default branch is <code>main</code> or <code>master</code>. You can check the default branch by running <code>cz check --use-default-range</code>.</p> </li> <li> <p>Validate all git commit messages starting from when you first implemented commit message linting:</p> <p>(Why this is useful?) Let's say you decided to enforce commit message today. However, it is impractical to <code>git rebase</code> all your previous commits. <code>--rev-range</code> helps you skip commits before you first implemented commit message linting by using a specific commit hash.</p> <pre><code>cz check --rev-range &lt;first_commit_sha&gt;..HEAD\n</code></pre> </li> </ol>"},{"location":"commands/check/#-use-default-range","title":"<code>--use-default-range</code>","text":"<p>Equivalent to <code>--rev-range &lt;default_branch&gt;..HEAD</code>.</p> <pre><code>cz check --use-default-range\n# or\ncz check -d\n</code></pre>"},{"location":"commands/check/#-message","title":"<code>--message</code>","text":"<p>Test if a given string passes <code>cz check</code>.</p> <pre><code>cz check --message &lt;message_to_be_checked&gt;\n</code></pre>"},{"location":"commands/check/#-commit-msg-file","title":"<code>--commit-msg-file</code>","text":"<p>Test if a given file contains a commit message that passes <code>cz check</code>.</p> <pre><code>cz check --commit-msg-file &lt;path_to_file_containing_message_to_be_checked&gt;\n</code></pre> <p>This can be useful when cooperating with git hooks. Please check Automatically check message before commit for more detailed examples.</p>"},{"location":"commands/check/#-allow-abort","title":"<code>--allow-abort</code>","text":"<p>Example:</p> <pre><code>cz check --message &lt;message_to_be_checked&gt; --allow-abort\n</code></pre> <p>Empty commit messages typically instruct Git to abort a commit, so you can pass <code>--allow-abort</code> to permit them. Since <code>git commit</code> accepts the <code>--allow-empty-message</code> flag (primarily for wrapper scripts), you may wish to disallow such commits in CI. <code>--allow-abort</code> may be used in conjunction with any of the other options.</p>"},{"location":"commands/check/#-allowed-prefixes","title":"<code>--allowed-prefixes</code>","text":"<p>Skip validation for commit messages that start with the specified prefixes.</p> <p>If not set, commit messages starting with the following prefixes are ignored by <code>cz check</code>:</p> <ul> <li><code>Merge</code></li> <li><code>Revert</code></li> <li><code>Pull request</code></li> <li><code>fixup!</code></li> <li><code>squash!</code></li> <li><code>amend!</code></li> </ul> <pre><code>cz check --message &lt;message_to_be_checked&gt; --allowed-prefixes 'Merge' 'Revert' 'Custom Prefix'\n</code></pre> <p>For example,</p> <pre><code># The following message passes the check because it starts with 'Merge'\ncz check --message \"Merge branch 'main' into feature/new-feature\" --allowed-prefixes 'Merge'\n\n# The following fails\ncz check --message \"Merge branch 'main' into feature/new-feature\" --allowed-prefixes 'aaa'\n</code></pre>"},{"location":"commands/check/#-message-length-limit","title":"<code>--message-length-limit</code>","text":"<p>Restrict the length of the first line of the commit message.</p> <pre><code># The following passes\ncz check --message \"docs(check): fix grammar issues\" -l 80\n\n# The following fails\ncz check --message \"docs:very long long long long message with many words\" -l 3\n</code></pre> <p>By default, the limit is set to <code>0</code>, which means no limit on the length.</p> <p>Note</p> <p>Specifically, for <code>ConventionalCommitsCz</code> the length only counts from the type of change to the subject, while the body and the footer are not counted.</p>"},{"location":"commands/commit/","title":"commit","text":""},{"location":"commands/commit/#usage","title":"Usage","text":""},{"location":"commands/commit/#overview","title":"Overview","text":"<p>The <code>commit</code> command provides an interactive way to create structured commits. Use either:</p> <ul> <li><code>cz commit</code></li> <li><code>cz c</code> (shortcut)</li> </ul> <p>By default, Commitizen uses conventional commits, but you can customize the commit rules to match your project's needs. See the customization guide for details.</p>"},{"location":"commands/commit/#basic-usage","title":"Basic Usage","text":""},{"location":"commands/commit/#interactive-commit-creation","title":"Interactive Commit Creation","text":"<p>Simply run <code>cz commit</code> in your terminal to start the interactive commit creation process. The command will guide you through creating a properly formatted commit message according to your configured rules.</p>"},{"location":"commands/commit/#writing-messages-to-file","title":"Writing Messages to File","text":"<p>You can save the generated commit message to a file using: <pre><code>cz commit --write-message-to-file COMMIT_MSG_FILE\n</code></pre></p> <p>This can be combined with <code>--dry-run</code> to only write the message without creating a commit. This is particularly useful for automatically preparing commit messages.</p>"},{"location":"commands/commit/#advanced-features","title":"Advanced Features","text":""},{"location":"commands/commit/#git-command-options","title":"Git Command Options","text":"<p>You can pass any git commit options using the <code>--</code> syntax: <pre><code>cz commit &lt;commitizen-args&gt; -- &lt;git-cli-args&gt;\n\n# Examples:\ncz c --dry-run -- -a -S  # Stage all changes and sign the commit\ncz c -a -- -n            # Stage all changes and skip the pre-commit and commit-msg hooks\n</code></pre></p> <p>Warning</p> <p>The <code>--signoff</code> option (or <code>-s</code>) is now recommended being used with the new syntax: <code>cz commit -- -s</code>. The old syntax <code>cz commit --signoff</code> is deprecated and will be removed in v5.</p>"},{"location":"commands/commit/#retry","title":"Retry","text":"<ul> <li>Use <code>cz commit --retry</code> to reuse the last commit message after a failed commit attempt</li> <li>Set <code>retry_after_failure: true</code> in your configuration to automatically retry</li> <li>Use <code>cz commit --no-retry</code> to force a new commit message prompt</li> </ul>"},{"location":"commands/commit/#message-length-control","title":"Message Length Control","text":"<p>Control the length of your commit messages using the <code>-l</code> or <code>--message-length-limit</code> option: <pre><code>cz commit -l 72  # Limits message length to 72 characters\n</code></pre></p> <p>Note</p> <p>The length limit only applies to the first line of the commit message. For conventional commits, this means the limit applies from the type of change through the subject. The body and footer are not counted.</p>"},{"location":"commands/commit/#technical-notes","title":"Technical Notes","text":"<p>For platform compatibility, the <code>commit</code> command disables ANSI escaping in its output. This means pre-commit hooks coloring will be deactivated as discussed in commitizen-tools/commitizen#417.</p>"},{"location":"commands/example/","title":"example","text":"<p>Show commit example</p>"},{"location":"commands/example/#usage","title":"Usage","text":""},{"location":"commands/info/","title":"info","text":"<p>Show information about the cz</p>"},{"location":"commands/info/#usage","title":"Usage","text":""},{"location":"commands/init/","title":"init","text":"<p>The <code>cz init</code> command helps you set up Commitizen in your project by creating a configuration file with your preferred settings.</p>"},{"location":"commands/init/#usage","title":"Usage","text":""},{"location":"commands/init/#command","title":"Command","text":"<pre><code>cz init\n</code></pre>"},{"location":"commands/init/#interactive-configuration","title":"Interactive Configuration","text":"<p>When you run <code>cz init</code>, Commitizen will guide you through an interactive setup process:</p> <p></p>"},{"location":"commands/init/#configuration-file","title":"Configuration File","text":"<p>The initialization process will create a configuration file in your project root.</p> <p>See Configuration File for more details.</p>"},{"location":"commands/init/#configuration-options","title":"Configuration Options","text":"<p>During the initialization process, you'll be prompted to configure the following settings:</p> <ol> <li>Convention Rules: Select the commit message convention to follow (e.g., conventional commits)</li> <li>Version Provider: Choose how to manage versioning in your project. Commitizen supports multiple version management systems:<ul> <li><code>commitizen</code>: Uses Commitizen's built-in version management system</li> <li><code>npm</code>: Manages version in <code>package.json</code> for Node.js projects</li> <li><code>cargo</code>: Manages version in <code>Cargo.toml</code> for Rust projects</li> <li><code>composer</code>: Manages version in <code>composer.json</code> for PHP projects</li> <li><code>pep621</code>: Uses <code>pyproject.toml</code> with PEP 621 standard</li> <li><code>poetry</code>: Uses <code>pyproject.toml</code> with Poetry configuration</li> <li><code>uv</code>: Uses <code>pyproject.toml</code> and <code>uv.lock</code> for Python projects</li> <li><code>scm</code>: Reads version directly from git tags without modifying files</li> </ul> </li> <li>Project Version: The current version of your project will be detected automatically</li> <li>Tag Format: The format used for version tags in your repository</li> <li>Version Type: Choose between:<ul> <li><code>semver</code> or <code>semver2</code>: Semantic Versioning (MAJOR.MINOR.PATCH)</li> <li><code>pep440</code>: Python Package Versioning</li> </ul> </li> <li>Changelog Generation: Configure whether to automatically generate changelog during version bumps</li> <li>Alpha Versioning: Option to keep major version at 0 for alpha/beta software</li> <li>Pre-commit Hooks: Set up Git pre-commit hooks for automated commit message validation</li> </ol> <p>See Configuration Options for more details.</p>"},{"location":"commands/init/#example","title":"Example","text":"<pre><code># Start the initialization process\ncz init\n\n# Follow the interactive prompts to configure your project\n</code></pre>"},{"location":"commands/init/#next-steps","title":"Next Steps","text":"<p>After initialization, you can:</p> <ol> <li>Start using <code>cz commit</code> to create conventional commits</li> <li>Use <code>cz bump</code> to manage versioning</li> <li>Configure additional settings in your project's configuration_file</li> </ol>"},{"location":"commands/ls/","title":"ls","text":""},{"location":"commands/ls/#usage","title":"Usage","text":""},{"location":"commands/schema/","title":"schema","text":"<p>Show commit schema</p>"},{"location":"commands/schema/#usage","title":"Usage","text":""},{"location":"commands/version/","title":"version","text":"<p>Get the version of the installed Commitizen or the current project (default: installed commitizen)</p>"},{"location":"commands/version/#usage","title":"Usage","text":""},{"location":"config/bump/","title":"Bump Options","text":""},{"location":"config/bump/#annotated_tag","title":"<code>annotated_tag</code>","text":"<p>When set to <code>true</code>, <code>cz bump</code> is equivalent to <code>cz bump --annotated-tag</code>.</p> pyproject.toml<pre><code>[tool.commitizen]\nannotated_tag = true\n</code></pre>"},{"location":"config/bump/#bump_message","title":"<code>bump_message</code>","text":"<p>Template used to specify the commit message generated when bumping.</p> <p>Defaults to: <code>bump: version $current_version \u2192 $new_version</code></p> Variable Description <code>$current_version</code> the version existing before bumping <code>$new_version</code> version generated after bumping pyproject.toml<pre><code>[tool.commitizen]\nbump_message = \"release $current_version \u2192 $new_version [skip-ci]\"\n</code></pre>"},{"location":"config/bump/#gpg_sign","title":"<code>gpg_sign</code>","text":"<p>When set to <code>true</code>, <code>cz bump</code> is equivalent to <code>cz bump --gpg-sign</code>. See <code>--gpg-sign</code>.</p> pyproject.toml<pre><code>[tool.commitizen]\ngpg_sign = true\n</code></pre>"},{"location":"config/bump/#ignored_tag_formats","title":"<code>ignored_tag_formats</code>","text":"<ul> <li>Type: <code>list</code></li> <li>Default: <code>[]</code></li> </ul> <p>Tags matching those formats will be totally ignored and won't raise a warning. Each entry uses the syntax as <code>tag_format</code> with the addition of <code>*</code> that will match everything (non-greedy).</p>"},{"location":"config/bump/#major_version_zero","title":"<code>major_version_zero</code>","text":"<p>When set to <code>true</code>, <code>cz bump</code> is equivalent to <code>cz bump --major-version-zero</code>. See <code>--major-version-zero</code>.</p> pyproject.toml<pre><code>[tool.commitizen]\nmajor_version_zero = true\n</code></pre>"},{"location":"config/bump/#legacy_tag_formats","title":"<code>legacy_tag_formats</code>","text":"<ul> <li>Type: <code>list</code></li> <li>Default: <code>[]</code></li> </ul> <p>Legacy git tag formats, useful for old projects that changed tag format. Tags matching those formats will be recognized as version tags and be included in the changelog. Each entry uses the syntax as <code>tag_format</code>.</p>"},{"location":"config/bump/#pre_bump_hooks","title":"<code>pre_bump_hooks</code>","text":"<p>A list of optional commands that will run right after updating <code>version_files</code> and before actual committing and tagging the release.</p> <p>Useful when you need to generate documentation based on the new version. During execution of the script, some environment variables are available:</p> Variable Description <code>CZ_PRE_IS_INITIAL</code> <code>True</code> when this is the initial release, <code>False</code> otherwise <code>CZ_PRE_CURRENT_VERSION</code> Current version, before the bump <code>CZ_PRE_CURRENT_TAG_VERSION</code> Current version tag, before the bump <code>CZ_PRE_NEW_VERSION</code> New version, after the bump <code>CZ_PRE_NEW_TAG_VERSION</code> New version tag, after the bump <code>CZ_PRE_MESSAGE</code> Commit message of the bump <code>CZ_PRE_INCREMENT</code> Whether this is a <code>MAJOR</code>, <code>MINOR</code> or <code>PATCH</code> release <code>CZ_PRE_CHANGELOG_FILE_NAME</code> Path to the changelog file, if available pyproject.toml<pre><code>[tool.commitizen]\npre_bump_hooks = [\n  \"scripts/generate_documentation.sh\"\n]\n</code></pre>"},{"location":"config/bump/#post_bump_hooks","title":"<code>post_bump_hooks</code>","text":"<p>A list of optional commands that will run right after committing and tagging the release.</p> <p>Useful when you need to send notifications about a release, or further automate deploying the release. During execution of the script, some environment variables are available:</p> Variable Description <code>CZ_POST_WAS_INITIAL</code> <code>True</code> when this was the initial release, <code>False</code> otherwise <code>CZ_POST_PREVIOUS_VERSION</code> Previous version, before the bump <code>CZ_POST_PREVIOUS_TAG_VERSION</code> Previous version tag, before the bump <code>CZ_POST_CURRENT_VERSION</code> Current version, after the bump <code>CZ_POST_CURRENT_TAG_VERSION</code> Current version tag, after the bump <code>CZ_POST_MESSAGE</code> Commit message of the bump <code>CZ_POST_INCREMENT</code> Whether this was a <code>MAJOR</code>, <code>MINOR</code> or <code>PATCH</code> release <code>CZ_POST_CHANGELOG_FILE_NAME</code> Path to the changelog file, if available pyproject.toml<pre><code>[tool.commitizen]\npost_bump_hooks = [\n  \"scripts/slack_notification.sh\"\n]\n</code></pre>"},{"location":"config/bump/#prerelease_offset","title":"<code>prerelease_offset</code>","text":"<p>Offset with which to start counting prereleases.</p> <p>If not specified, defaults to <code>0</code>.</p> pyproject.toml<pre><code>[tool.commitizen]\nprerelease_offset = 1\n</code></pre> <p>Note</p> <p>Under some circumstances, a prerelease cannot start with <code>0</code>-for example, in embedded projects where individual characters are encoded as bytes. You can specify an offset from which to start counting.</p>"},{"location":"config/bump/#tag_format","title":"<code>tag_format</code>","text":"<p>See <code>--tag-format</code>.</p>"},{"location":"config/bump/#update_changelog_on_bump","title":"<code>update_changelog_on_bump</code>","text":"<p>When set to <code>true</code>, <code>cz bump</code> is equivalent to <code>cz bump --changelog</code>.</p> pyproject.toml<pre><code>[tool.commitizen]\nupdate_changelog_on_bump = true\n</code></pre>"},{"location":"config/bump/#version_files","title":"<code>version_files</code>","text":"<p>Identify the files or glob patterns which should be updated with the new version.</p> <p>Commitizen will update its configuration file automatically when bumping, regardless of whether the file is present or not in <code>version_files</code>.</p> <p>You may specify the <code>version_files</code> in your configuration file.</p> pyproject.toml<pre><code>[tool.commitizen]\nversion_files = [\n    \"src/__version__.py\",\n]\n</code></pre> <p>It is also possible to provide a pattern for each file, separated by a colon (e.g. <code>file:pattern</code>). See the below example for more details.</p> pyproject.toml<pre><code>[tool.commitizen]\nversion_files = [\n    \"packages/*/pyproject.toml:version\",\n    \"setup.json:version\",\n]\n</code></pre> <p>Example scenario</p> <p>We have a project with the following configuration file <code>pyproject.toml</code>:</p> pyproject.toml<pre><code>[tool.commitizen]\nversion_files = [\n    \"src/__version__.py\",\n    \"packages/*/pyproject.toml:version\",\n    \"setup.json:version\",\n]\n</code></pre> <p>For the reference <code>\"setup.json:version\"</code>, it means that it will look for a file <code>setup.json</code> and will only change the lines that contain the substring <code>\"version\"</code>.</p> <p>For example, if the content of <code>setup.json</code> is:</p> setup.json<pre><code>{\n    \"name\": \"magictool\",\n    \"version\": \"1.2.3\",\n    \"dependencies\": {\n        \"lodash\": \"1.2.3\"\n    }\n}\n</code></pre> <p>After running <code>cz bump 2.0.0</code>, its content will be updated to:</p> setup.json<pre><code>{\n    \"name\": \"magictool\",\n-   \"version\": \"1.2.3\",\n+   \"version\": \"2.0.0\",\n    \"dependencies\": {\n        \"lodash\": \"1.2.3\"\n    }\n}\n</code></pre> <p>Note</p> <p>Files can be specified using relative (to the execution) paths, absolute paths, or glob patterns.</p> <p>Historical note</p> <p>This option was renamed from <code>files</code> to <code>version_files</code>.</p>"},{"location":"config/bump/#version_scheme","title":"<code>version_scheme</code>","text":"<p>See <code>--version-scheme</code>.</p>"},{"location":"config/changelog/","title":"Changelog Options","text":"<p>As for now, each of the options that is used by <code>cz changelog</code> command can correlate to a command line option.</p> <p>See changelog command line options for more details.</p>"},{"location":"config/check/","title":"Check Options","text":""},{"location":"config/check/#allow_abort","title":"<code>allow_abort</code>","text":"<ul> <li>Type: <code>bool</code></li> <li>Default: <code>False</code></li> </ul> <p>Disallow empty commit messages. Useful in CI.</p>"},{"location":"config/check/#allowed_prefixes","title":"<code>allowed_prefixes</code>","text":"<ul> <li>Type: <code>list</code></li> <li>Default: <code>[\"Merge\", \"Revert\", \"Pull request\", \"fixup!\", \"squash!\"]</code></li> </ul> <p>List of prefixes that commitizen ignores when verifying messages.</p>"},{"location":"config/check/#message_length_limit","title":"<code>message_length_limit</code>","text":"<ul> <li>Type: <code>int</code></li> <li>Default: <code>0</code> (no limit)</li> </ul> <p>Maximum length of the commit message. Setting it to <code>0</code> disables the length limit.</p> <p>Note</p> <p>This option can be overridden by the <code>-l/--message-length-limit</code> command line argument.</p>"},{"location":"config/commit/","title":"Commit Options","text":""},{"location":"config/commit/#breaking_change_exclamation_in_title","title":"<code>breaking_change_exclamation_in_title</code>","text":"<ul> <li>Type: <code>bool</code></li> <li>Default: <code>False</code></li> </ul> <p>When true, breaking changes will be also indicated by an exclamation mark in the commit title (e.g., <code>feat!: breaking change</code>).</p> <p>When false, breaking changes will be only indicated by <code>BREAKING CHANGE:</code> in the footer. See writing commits for more details.</p>"},{"location":"config/commit/#encoding","title":"<code>encoding</code>","text":"<ul> <li>Type: <code>str</code></li> <li>Default: <code>\"utf-8\"</code></li> </ul> <p>Sets the character encoding to be used when parsing commit messages.</p>"},{"location":"config/commit/#retry_after_failure","title":"<code>retry_after_failure</code>","text":"<ul> <li>Type: <code>bool</code></li> <li>Default: <code>False</code></li> </ul> <p>Retries failed commit when running <code>cz commit</code>.</p>"},{"location":"config/configuration_file/","title":"Configuration File","text":"<p>Commitizen uses configuration files to customize its behavior for your project. These files define settings such as which commit rules to use, version management preferences, changelog generation options, and more.</p>"},{"location":"config/configuration_file/#creating-a-configuration-file","title":"Creating a Configuration File","text":"<p>It is recommended to create a configuration file via our <code>cz init</code> command. This command will guide you through setting up your configuration file with the appropriate settings for your project.</p>"},{"location":"config/configuration_file/#file-location-and-search-order","title":"File Location and Search Order","text":"<p>Configuration files are typically located in the root of your project directory. Commitizen searches for configuration files in the following order:</p> <ol> <li><code>.cz.toml</code></li> <li><code>cz.toml</code></li> <li><code>.cz.json</code></li> <li><code>cz.json</code></li> <li><code>.cz.yaml</code></li> <li><code>cz.yaml</code></li> <li><code>pyproject.toml</code> (in the <code>[tool.commitizen]</code> section)</li> </ol> <p>The first valid configuration file found will be used. If no configuration file is found, Commitizen will use its default settings.</p> <p>Note</p> <p>Commitizen supports explicitly specifying a configuration file using the <code>--config</code> option, which is useful when the configuration file is not located in the project root directory. When <code>--config</code> is provided, Commitizen will only load configuration from the specified file and will not search for configuration files using the default search order described above. If the specified configuration file does not exist, Commitizen raises the <code>ConfigFileNotFound</code> error. If the specified configuration file exists but is empty, Commitizen raises the <code>ConfigFileIsEmpty</code> error.</p> <pre><code>cz --config &lt;PATH&gt; &lt;command&gt;\n</code></pre> <p>Tip</p> <p>For Python projects, you can add your Commitizen configuration to <code>pyproject.toml</code> to keep all project configuration in one place.</p> <p>Multiple Configuration Files</p> <p>If Commitizen detects more than one configuration file in your project directory (excluding <code>pyproject.toml</code>), it will display a warning message and identify which file is being used. To avoid confusion, ensure you have only one Commitizen configuration file in your project.</p>"},{"location":"config/configuration_file/#supported-formats","title":"Supported Formats","text":"<p>Commitizen supports three configuration file formats:</p> <ul> <li>TOML (<code>.toml</code>) - Recommended for Python projects</li> <li>JSON (<code>.json</code>)</li> <li>YAML (<code>.yaml</code>)</li> </ul> <p>All formats support the same configuration options. Choose the format that best fits your project's ecosystem.</p>"},{"location":"config/configuration_file/#configuration-structure","title":"Configuration Structure","text":""},{"location":"config/configuration_file/#toml-format","title":"TOML Format","text":"<p>For TOML files, Commitizen settings are placed under the <code>[tool.commitizen]</code> section. If you're using a standalone <code>.cz.toml</code> or <code>cz.toml</code> file, you can use <code>[tool.commitizen]</code> or just <code>[commitizen]</code>.</p> <p>Example: <code>pyproject.toml</code>, <code>.cz.toml</code> or <code>cz.toml</code></p> pyproject.toml<pre><code>[tool.commitizen]\nname = \"cz_conventional_commits\"\nversion = \"0.1.0\"\nversion_provider = \"commitizen\"\nversion_scheme = \"pep440\"\nversion_files = [\n    \"src/__version__.py\",\n    \"pyproject.toml:version\"\n]\ntag_format = \"$version\"\nupdate_changelog_on_bump = true\nchangelog_file = \"CHANGELOG.md\"\nchangelog_incremental = false\nbump_message = \"bump: version $current_version \u2192 $new_version\"\ngpg_sign = false\nannotated_tag = false\nmajor_version_zero = false\nprerelease_offset = 0\nretry_after_failure = false\nallow_abort = false\nmessage_length_limit = 0\nallowed_prefixes = [\n    \"Merge\",\n    \"Revert\",\n    \"Pull request\",\n    \"fixup!\",\n    \"squash!\",\n    \"amend!\"\n]\nbreaking_change_exclamation_in_title = false\nuse_shortcuts = false\npre_bump_hooks = []\npost_bump_hooks = []\nencoding = \"utf-8\"\n\n# Optional: Custom styling for prompts\nstyle = [\n    [\"qmark\", \"fg:#ff9d00 bold\"],\n    [\"question\", \"bold\"],\n    [\"answer\", \"fg:#ff9d00 bold\"],\n    [\"pointer\", \"fg:#ff9d00 bold\"],\n    [\"highlighted\", \"fg:#ff9d00 bold\"],\n    [\"selected\", \"fg:#cc5454\"],\n    [\"separator\", \"fg:#cc5454\"],\n    [\"instruction\", \"\"],\n    [\"text\", \"\"],\n    [\"disabled\", \"fg:#858585 italic\"]\n]\n</code></pre>"},{"location":"config/configuration_file/#json-format","title":"JSON Format","text":"<p>For JSON files, Commitizen settings are placed under the <code>commitizen</code> key.</p> <p>Example: <code>.cz.json</code> or <code>cz.json</code></p> .cz.json<pre><code>{\n  \"commitizen\": {\n    \"name\": \"cz_conventional_commits\",\n    \"version\": \"0.1.0\",\n    \"version_provider\": \"commitizen\",\n    \"version_scheme\": \"pep440\",\n    \"version_files\": [\n      \"src/__version__.py\",\n      \"pyproject.toml:version\"\n    ],\n    \"tag_format\": \"$version\",\n    \"update_changelog_on_bump\": true,\n    \"changelog_file\": \"CHANGELOG.md\",\n    \"changelog_incremental\": false,\n    \"bump_message\": \"bump: version $current_version \u2192 $new_version\",\n    \"gpg_sign\": false,\n    \"annotated_tag\": false,\n    \"major_version_zero\": false,\n    \"prerelease_offset\": 0,\n    \"retry_after_failure\": false,\n    \"allow_abort\": false,\n    \"message_length_limit\": 0,\n    \"allowed_prefixes\": [\n      \"Merge\",\n      \"Revert\",\n      \"Pull request\",\n      \"fixup!\",\n      \"squash!\",\n      \"amend!\"\n    ],\n    \"breaking_change_exclamation_in_title\": false,\n    \"use_shortcuts\": false,\n    \"pre_bump_hooks\": [],\n    \"post_bump_hooks\": [],\n    \"encoding\": \"utf-8\",\n    \"style\": [\n      [\"qmark\", \"fg:#ff9d00 bold\"],\n      [\"question\", \"bold\"],\n      [\"answer\", \"fg:#ff9d00 bold\"],\n      [\"pointer\", \"fg:#ff9d00 bold\"],\n      [\"highlighted\", \"fg:#ff9d00 bold\"],\n      [\"selected\", \"fg:#cc5454\"],\n      [\"separator\", \"fg:#cc5454\"],\n      [\"instruction\", \"\"],\n      [\"text\", \"\"],\n      [\"disabled\", \"fg:#858585 italic\"]\n    ]\n  }\n}\n</code></pre>"},{"location":"config/configuration_file/#yaml-format","title":"YAML Format","text":"<p>For YAML files, Commitizen settings are placed under the <code>commitizen</code> key.</p> <p>Example: <code>.cz.yaml</code> or <code>cz.yaml</code></p> .cz.yaml<pre><code>commitizen:\n  name: cz_conventional_commits\n  version: \"0.1.0\"\n  version_provider: commitizen\n  version_scheme: pep440\n  version_files:\n    - src/__version__.py\n    - pyproject.toml:version\n  tag_format: \"$version\"\n  update_changelog_on_bump: true\n  changelog_file: CHANGELOG.md\n  changelog_incremental: false\n  bump_message: \"bump: version $current_version \u2192 $new_version\"\n  gpg_sign: false\n  annotated_tag: false\n  major_version_zero: false\n  prerelease_offset: 0\n  retry_after_failure: false\n  allow_abort: false\n  message_length_limit: 0\n  allowed_prefixes:\n    - Merge\n    - Revert\n    - Pull request\n    - fixup!\n    - squash!\n    - amend!\n  breaking_change_exclamation_in_title: false\n  use_shortcuts: false\n  pre_bump_hooks: []\n  post_bump_hooks: []\n  encoding: utf-8\n  style:\n    - - qmark\n      - fg:#ff9d00 bold\n    - - question\n      - bold\n    - - answer\n      - fg:#ff9d00 bold\n    - - pointer\n      - fg:#ff9d00 bold\n    - - highlighted\n      - fg:#ff9d00 bold\n    - - selected\n      - fg:#cc5454\n    - - separator\n      - fg:#cc5454\n    - - instruction\n      - \"\"\n    - - text\n      - \"\"\n    - - disabled\n      - fg:#858585 italic\n</code></pre>"},{"location":"config/configuration_file/#configuration-options","title":"Configuration Options","text":"<p>For a complete list of all available configuration options and their descriptions, see the Configuration Settings documentation.</p> <p>Key configuration categories include:</p> <ul> <li>Commit Rules: <code>name</code> - Select which commit convention to use</li> <li>Version Management: <code>version</code>, <code>version_provider</code>, <code>version_scheme</code>, <code>version_files</code></li> <li>Tagging: <code>tag_format</code>, <code>legacy_tag_formats</code>, <code>ignored_tag_formats</code>, <code>gpg_sign</code>, <code>annotated_tag</code></li> <li>Changelog: <code>changelog_file</code>, <code>changelog_format</code>, <code>changelog_incremental</code>, <code>update_changelog_on_bump</code></li> <li>Bumping: <code>bump_message</code>, <code>major_version_zero</code>, <code>prerelease_offset</code>, <code>pre_bump_hooks</code>, <code>post_bump_hooks</code></li> <li>Commit Validation: <code>allowed_prefixes</code>, <code>message_length_limit</code>, <code>allow_abort</code>, <code>retry_after_failure</code></li> <li>Customization: <code>customize</code>, <code>style</code>, <code>use_shortcuts</code>, <code>template</code>, <code>extras</code></li> </ul>"},{"location":"config/configuration_file/#customization","title":"Customization","text":"<p>For advanced customization, including creating custom commit rules, see the Customization documentation.</p> <p>Note</p> <p>The <code>customize</code> option is only supported when using TOML configuration files.</p>"},{"location":"config/option/","title":"Misc Options","text":""},{"location":"config/option/#name","title":"<code>name</code>","text":"<ul> <li>Type: <code>str</code></li> <li>Default: <code>\"cz_conventional_commits\"</code></li> </ul> <p>Name of the committing rules to use.</p>"},{"location":"config/option/#version","title":"<code>version</code>","text":"<ul> <li>Type: <code>str</code></li> <li>Default: <code>None</code></li> </ul> <p>Current version. Example: <code>\"0.1.2\"</code>. Required if you use <code>version_provider = \"commitizen\"</code>.</p>"},{"location":"config/option/#style","title":"<code>style</code>","text":"<ul> <li>Type: <code>list</code></li> <li>Default: <code>[]</code></li> </ul> <p>Style for the prompts (It will merge this value with default style.) See Styling your prompts with your favorite colors for more details.</p>"},{"location":"config/option/#customize","title":"<code>customize</code>","text":"<ul> <li>Type: <code>dict</code></li> <li>Default: <code>None</code></li> </ul> <p>This is only supported when config through <code>toml</code> configuration file.</p> <p>Custom rules for committing and bumping. See customization for more details.</p>"},{"location":"config/option/#use_shortcuts","title":"<code>use_shortcuts</code>","text":"<ul> <li>Type: <code>bool</code></li> <li>Default: <code>False</code></li> </ul> <p>Show keyboard shortcuts when selecting from a list. Define a <code>key</code> for each of your choices to set the key. See shortcut keys for more details.</p>"},{"location":"config/version_provider/","title":"Version Providers","text":"<p>Version providers are the mechanism by which Commitizen reads and writes version information in your project.</p> <p>They abstract away the details of where and how version numbers are stored, allowing Commitizen to work seamlessly with different project types and package management systems.</p>"},{"location":"config/version_provider/#overview","title":"Overview","text":"<p>By default, Commitizen uses the <code>commitizen</code> provider, which stores the version in your Commitizen configuration file. However, you can configure Commitizen to use any available provider that matches your project's setup. This is particularly useful when you want Commitizen to manage versions in the same location as your package manager (e.g., <code>package.json</code> for Node.js projects, <code>pyproject.toml</code> for Python projects).</p>"},{"location":"config/version_provider/#built-in-providers","title":"Built-in Providers","text":"<p>Commitizen includes several built-in version providers for common package management formats:</p>"},{"location":"config/version_provider/#commitizen-default","title":"<code>commitizen</code> (Default)","text":"<p>The default version provider stores and retrieves the version from your Commitizen configuration file (e.g., <code>pyproject.toml</code>, <code>.cz.toml</code>, etc.).</p> <p>Use when:</p> <ul> <li>You want to keep version management separate from your package manager</li> <li>Your project doesn't use a standard package manager</li> <li>You need maximum flexibility in version management</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"commitizen\"\nversion = \"0.1.0\"  # Required when using this provider\n</code></pre></p>"},{"location":"config/version_provider/#scm","title":"<code>scm</code>","text":"<p>Fetches the version from Git tags using <code>git describe</code>. This provider only reads version information and never writes it back to files. It's designed to work with tools like <code>setuptools-scm</code> or other package manager <code>*-scm</code> plugins that derive version numbers from Git history.</p> <p>Use when:</p> <ul> <li>You're using <code>setuptools-scm</code> or similar tools</li> <li>You want version numbers derived from Git tags</li> <li>You don't want Commitizen to modify any files for version management</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"scm\"\n# No version field needed - it's read from Git tags\n</code></pre></p> <p>Note</p> <p>The <code>scm</code> provider is read-only. When you run <code>cz bump</code>, it will create a Git tag but won't update any files. This is intentional and works well with tools that derive versions from Git tags.</p>"},{"location":"config/version_provider/#pep621","title":"<code>pep621</code>","text":"<p>Manages version in <code>pyproject.toml</code> under the <code>project.version</code> field, following PEP 621 standards.</p> <p>Use when:</p> <ul> <li>You're using a modern Python project with PEP 621-compliant <code>pyproject.toml</code></li> <li>You want version management integrated with your Python project metadata</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"pep621\"\n</code></pre></p> <p>Example <code>pyproject.toml</code>: <pre><code>[project]\nname = \"my-package\"\nversion = \"0.1.0\"  # Managed by Commitizen\n</code></pre></p>"},{"location":"config/version_provider/#poetry","title":"<code>poetry</code>","text":"<p>Manages version in <code>pyproject.toml</code> under the <code>tool.poetry.version</code> field, which is used by the Poetry package manager. This approach is recommended only for users running Poetry versions earlier than 2.0 or relying on Poetry-specific features. For most users on Poetry 2.0 or later, it is recommended to use <code>pep621</code> instead. Read More</p> <p>Use when:</p> <ul> <li>You're using Poetry &lt; 2.0 as your Python package manager</li> <li>You're using Poetry &gt;= 2.0 as your Python package manager, but don't need poetry-specific features</li> <li>You want Commitizen to manage the version that Poetry uses</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"poetry\"\n</code></pre></p> <p>Example <code>pyproject.toml</code>: <pre><code>[tool.poetry]\nname = \"my-package\"\nversion = \"0.1.0\"  # Managed by Commitizen\n</code></pre></p>"},{"location":"config/version_provider/#uv","title":"<code>uv</code>","text":"<p>Manages version in both <code>pyproject.toml</code> (<code>project.version</code>) and <code>uv.lock</code> (<code>package.version</code> for the matching package name). This ensures consistency between your project metadata and lock file.</p> <p>Note</p> <p>Even though uv follows PEP 621 format, <code>pep621</code> does not manage the version in <code>uv.lock</code>. <code>uv</code> is still suggested for uv users.</p> <p>Use when:</p> <ul> <li>You're using <code>uv</code> as your Python package manager</li> <li>You want version synchronization between <code>pyproject.toml</code> and <code>uv.lock</code></li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"uv\"\n</code></pre></p>"},{"location":"config/version_provider/#cargo","title":"<code>cargo</code>","text":"<p>Manages version in both <code>Cargo.toml</code> (<code>package.version</code>) and <code>Cargo.lock</code> (<code>package.version</code> for the matching package name). This ensures consistency between your Rust project's manifest and lock file.</p> <p>Use when:</p> <ul> <li>You're working with a Rust project using Cargo</li> <li>You want Commitizen to manage Rust package versions</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"cargo\"\n</code></pre></p> <p>Example <code>Cargo.toml</code>: <pre><code>[package]\nname = \"my-crate\"\nversion = \"0.1.0\"  # Managed by Commitizen\n</code></pre></p>"},{"location":"config/version_provider/#npm","title":"<code>npm</code>","text":"<p>Manages version in <code>package.json</code> and optionally synchronizes with <code>package-lock.json</code> and <code>npm-shrinkwrap.json</code> if they exist.</p> <p>Use when:</p> <ul> <li>You're working with a Node.js/JavaScript project</li> <li>You want Commitizen to manage npm package versions</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"npm\"\n</code></pre></p> <p>Example <code>package.json</code>: <pre><code>{\n  \"name\": \"my-package\",\n  \"version\": \"0.1.0\"\n}\n</code></pre></p>"},{"location":"config/version_provider/#composer","title":"<code>composer</code>","text":"<p>Manages version in <code>composer.json</code> under the <code>version</code> field, used by PHP's Composer package manager.</p> <p>Use when:</p> <ul> <li>You're working with a PHP project using Composer</li> <li>You want Commitizen to manage Composer package versions</li> </ul> <p>Configuration: <pre><code>[tool.commitizen]\nversion_provider = \"composer\"\n</code></pre></p> <p>Example <code>composer.json</code>: <pre><code>{\n  \"name\": \"vendor/package\",\n  \"version\": \"0.1.0\"\n}\n</code></pre></p>"},{"location":"config/version_provider/#provider-comparison-table","title":"Provider Comparison Table","text":"Provider File(s) Modified Read-Only Best For <code>commitizen</code> Commitizen config file No General use, flexible projects <code>scm</code> None (reads from Git tags) Yes <code>setuptools-scm</code> users <code>pep621</code> <code>pyproject.toml</code> (<code>project.version</code>) No Modern Python (PEP 621) <code>poetry</code> <code>pyproject.toml</code> (<code>tool.poetry.version</code>) No Poetry projects <code>uv</code> <code>pyproject.toml</code> + <code>uv.lock</code> No uv package manager <code>cargo</code> <code>Cargo.toml</code> + <code>Cargo.lock</code> No Rust/Cargo projects <code>npm</code> <code>package.json</code> (+ lock files) No Node.js/npm projects <code>composer</code> <code>composer.json</code> No PHP/Composer projects"},{"location":"config/version_provider/#creating-custom-version-providers","title":"Creating Custom Version Providers","text":"<p>If none of the built-in providers meet your needs, you can create a custom version provider by extending the <code>VersionProvider</code> base class and registering it as a plugin.</p>"},{"location":"config/version_provider/#step-1-create-your-provider-class","title":"Step 1: Create Your Provider Class","text":"<p>Create a Python file (e.g., <code>my_provider.py</code>) that extends <code>VersionProvider</code>:</p> my_provider.py<pre><code>from pathlib import Path\nfrom commitizen.providers import VersionProvider\n\n\nclass MyProvider(VersionProvider):\n    \"\"\"\n    Custom version provider that reads/writes from a VERSION file.\n    \"\"\"\n\n    def get_version(self) -&gt; str:\n        \"\"\"Read version from VERSION file.\"\"\"\n        version_file = Path(\"VERSION\")\n        if not version_file.is_file():\n            return \"0.0.0\"\n        return version_file.read_text().strip()\n\n    def set_version(self, version: str) -&gt; None:\n        \"\"\"Write version to VERSION file.\"\"\"\n        version_file = Path(\"VERSION\")\n        version_file.write_text(f\"{version}\\n\")\n</code></pre>"},{"location":"config/version_provider/#step-2-register-as-an-entry-point","title":"Step 2: Register as an Entry Point","text":"<p>Register your provider using the <code>commitizen.provider</code> entry point. You can do this in your <code>setup.py</code>, <code>setup.cfg</code>, or <code>pyproject.toml</code>:</p> <p>Using <code>pyproject.toml</code> (recommended):</p> pyproject.toml<pre><code>[project]\nname = \"my-commitizen-provider\"\nversion = \"0.1.0\"\ndependencies = [\"commitizen\"]\n\n[project.entry-points.\"commitizen.provider\"]\nmy-provider = \"my_provider:MyProvider\"\n</code></pre> <p>Using <code>setup.py</code> (for legacy setup):</p> setup.py<pre><code>from setuptools import setup\n\nsetup(\n    name=\"my-commitizen-provider\",\n    version=\"0.1.0\",\n    py_modules=[\"my_provider\"],\n    install_requires=[\"commitizen\"],\n    entry_points={\n        \"commitizen.provider\": [\n            \"my-provider = my_provider:MyProvider\",\n        ]\n    },\n)\n</code></pre>"},{"location":"config/version_provider/#step-3-install-and-use","title":"Step 3: Install and Use","text":"<ol> <li> <p>Install your provider package:</p> <ul> <li> <p>Once your custom Commitizen provider is packaged and published (for example, to PyPI), install it like any standard Python package:</p> <pre><code>pip install my-commitizen-provider\n</code></pre> </li> <li> <p>If you want to use the provider directly from the current project source (during development), install it in editable mode (See pip documentation):</p> <pre><code>pip install -e .\n</code></pre> </li> </ul> </li> <li> <p>Configure Commitizen to use your provider:    <pre><code>[tool.commitizen]\nversion_provider = \"my-provider\"\n</code></pre></p> </li> </ol>"},{"location":"config/version_provider/#provider-implementation-guidelines","title":"Provider Implementation Guidelines","text":"<p>When creating a custom provider, keep these guidelines in mind:</p> <ul> <li><code>get_version()</code> should return a string representing the current version. If no version is found, you can return <code>\"0.0.0\"</code> or raise an appropriate exception.</li> <li><code>set_version(version: str)</code> should write the version to your chosen storage location. The version string will be properly formatted according to your <code>version_scheme</code> setting.</li> <li>The provider has access to <code>self.config</code>, which is a <code>BaseConfig</code> instance containing all Commitizen settings.</li> <li>For file-based providers, consider using the <code>FileProvider</code> or <code>JsonProvider</code>/<code>TomlProvider</code> base classes from <code>commitizen.providers.base_provider</code> to simplify implementation.</li> </ul>"},{"location":"config/version_provider/#example-json-based-provider","title":"Example: JSON-based Provider","text":"<p>Here's a more complete example using the <code>JsonProvider</code> base class:</p> json_version_provider.py<pre><code>from commitizen.providers.base_provider import JsonProvider\n\n\nclass JsonVersionProvider(JsonProvider):\n    \"\"\"\n    Version provider that uses a custom version.json file.\n    \"\"\"\n\n    filename = \"version.json\"\n\n    def get(self, document):\n        \"\"\"Extract version from JSON document.\"\"\"\n        return document[\"version\"]\n\n    def set(self, document, version):\n        \"\"\"Set version in JSON document.\"\"\"\n        document[\"version\"] = version\n</code></pre> <p>This example leverages the <code>JsonProvider</code> base class, which handles file reading, writing, and JSON parsing automatically.</p>"},{"location":"config/version_provider/#choosing-the-right-provider","title":"Choosing the Right Provider","text":"<p>Select a version provider based on your project's characteristics:</p> <ul> <li>Python projects<ul> <li>with <code>uv</code>: Use <code>uv</code></li> <li>with <code>pyproject.toml</code> that follows PEP 621: Use <code>pep621</code></li> <li>with Poetry: Use <code>poetry</code></li> <li>setuptools-scm: Use <code>scm</code></li> </ul> </li> <li>Rust projects: Use <code>cargo</code></li> <li>Node.js projects: Use <code>npm</code></li> <li>PHP projects: Use <code>composer</code></li> <li>Other cases or custom needs: Use <code>commitizen</code> (default) or create a custom provider</li> </ul> <p>Remember that you can always use <code>version_files</code> in combination with any provider to update additional files during version bumps, regardless of which provider you choose for reading/writing the primary version.</p>"},{"location":"contributing/contributing/","title":"Contributing to Commitizen","text":"<p>First, thank you for taking the time to contribute! \ud83c\udf89 Your contributions help make Commitizen better for everyone.</p> <p>When contributing to Commitizen, we encourage you to:</p> <ol> <li>First, check out the issues and Features we won't add to see if there's already a discussion about the change you wish to make.</li> <li>If there's no discussion, create an issue to discuss your proposed changes.</li> <li>Follow our development workflow and guidelines below.</li> </ol> <p>If you're a first-time contributor, please check out issues labeled good first issue - these are specifically chosen to be beginner-friendly.</p>"},{"location":"contributing/contributing/#prerequisites-setup","title":"Prerequisites &amp; Setup","text":""},{"location":"contributing/contributing/#required-tools","title":"Required Tools","text":"<ol> <li>Python Environment<ul> <li>Python <code>&gt;=3.10</code></li> <li>uv <code>&gt;=0.9.0</code></li> </ul> </li> <li>Version Control &amp; Security<ul> <li>Git</li> <li>Commitizen</li> <li>GPG for commit signing<ul> <li>Installation page</li> <li>For Mac users: <code>brew install gnupg</code></li> <li>For Windows users: Download from Gpg4win</li> <li>For Linux users: Use your distribution's package manager (e.g., <code>apt install gnupg</code> for Ubuntu)</li> </ul> </li> </ul> </li> </ol>"},{"location":"contributing/contributing/#getting-started","title":"Getting Started","text":"<ol> <li>Fork Commitizen</li> <li>Clone your fork:     <pre><code>git clone https://github.com/YOUR_USERNAME/commitizen.git\ncd commitizen\n</code></pre></li> <li>Add the upstream repository:     <pre><code>git remote add upstream https://github.com/commitizen-tools/commitizen.git\n</code></pre></li> <li>Set up the development environment:     <pre><code>uv sync --dev --frozen\n</code></pre></li> <li>Set up pre-commit hooks:     <pre><code>uv run poe setup-pre-commit\n</code></pre></li> </ol>"},{"location":"contributing/contributing/#development-workflow","title":"Development Workflow","text":"<ol> <li>Create a New Branch <pre><code>git switch -c feature/your-feature-name\n# or\ngit switch -c fix/your-bug-fix\n</code></pre></li> <li>Make Your Changes<ul> <li>Write your code</li> <li>Add tests for new functionalities or fixes</li> <li>Update documentation if needed</li> <li>Follow the existing code style</li> </ul> </li> <li>Testing<ul> <li>Run the full test suite: <code>uv run poe all</code></li> <li>Ensure test coverage doesn't drop (we use CodeCov)</li> <li>For documentation changes, run <code>uv run poe doc</code> to check for warnings/errors</li> <li>If you need to change some file regression snapshots, run: <code>uv run poe test:regen</code></li> </ul> </li> <li>Committing Changes<ul> <li>Use Commitizen to make commits (we follow conventional commits)</li> <li>Example: <code>cz commit</code></li> </ul> </li> <li>Documentation<ul> <li>Update <code>docs/README.md</code> if needed</li> <li>For CLI help screenshots: <code>uv run poe doc:screenshots</code></li> <li>Prefer Google style documentation, which works well with editors like VSCode and PyCharm</li> <li>DO NOT update <code>CHANGELOG.md</code> (automatically generated)</li> <li>DO NOT update version numbers (automatically handled)</li> </ul> </li> <li>Pull Request<ul> <li>Push your changes: <code>git push origin your-branch-name</code></li> <li>Create a pull request on GitHub</li> <li>Ensure CI checks pass</li> <li>Wait for review and address any feedback</li> </ul> </li> </ol>"},{"location":"contributing/contributing/#use-of-github-labels","title":"Use of GitHub Labels","text":"<ul> <li>good-first-issue (issue only)</li> <li>help-wanted</li> <li>issue-status: needs-triage (issue only) (default label for issues)</li> <li>issue-status: wont-fix</li> <li>issue-status: wont-implement</li> <li>issue-status: duplicate</li> <li>issue-status: invalid</li> <li>issue-status: wait-for-response</li> <li>issue-status: wait-for-implementation</li> <li>issue-status: pr-created</li> <li>pr-status: wait-for-review (default label for PRs)</li> <li>pr-status: reviewing</li> <li>pr-status: wait-for-modification</li> <li>pr-status: wait-for-response</li> <li>pr-status: ready-to-merge</li> <li>needs: test-case (PR only)</li> <li>needs: documentation (PR only)</li> <li>type: feature</li> <li>type: bug</li> <li>type: documentation</li> <li>type: refactor</li> <li>type: question (issue only)</li> <li>os: Windows</li> <li>os: Linux</li> <li>os: macOS</li> </ul>"},{"location":"contributing/contributing/#issue-life-cycle","title":"Issue life cycle","text":"<pre><code>graph TD\n    input[/issue created/] --&gt;\n    needs-triage\n    needs-triage --triage--&gt; close(wont-implement, wont-fix, duplicate, invalid)\n\n    needs-triage --triage--&gt; wait-for-implementation\n    needs-triage --triage--&gt; wait-for-response\n\n    wait-for-response --response--&gt; needs-triage\n\n    wait-for-implementation --PR-created--&gt; pr-created --PR-merged--&gt; output[/close/]\n\n    close --&gt; output[/close/]</code></pre>"},{"location":"contributing/contributing/#pull-request-life-cycle","title":"Pull request life cycle","text":"<pre><code>flowchart TD\n    input[/pull request created/] --&gt;\n    wait-for-review\n    --start reviewing --&gt;\n    reviewing\n    --finish review --&gt;\n    reviewed{approved}\n\n    reviewed --Y--&gt;\n    wait-for-merge --&gt;\n    output[/merge/]\n\n    reviewed --n--&gt;\n    require-more-information{require more information}\n\n    require-more-information --y--&gt;\n    wait-for-response\n    --response--&gt;\n    require-more-information\n\n    require-more-information --n--&gt;\n    wait-for-modification\n    --modification-received--&gt;\n    review</code></pre>"},{"location":"contributing/contributing_tldr/","title":"Contributing TL;DR","text":"<p>Feel free to send a PR to update this file if you find anything useful. \ud83d\ude47</p>"},{"location":"contributing/contributing_tldr/#environment","title":"Environment","text":"<ul> <li>Python <code>&gt;=3.10</code></li> <li>uv <code>&gt;=0.9.0</code></li> </ul>"},{"location":"contributing/contributing_tldr/#useful-commands","title":"Useful commands","text":"<p>Please check the pyproject.toml for a comprehensive list of commands.</p>"},{"location":"contributing/contributing_tldr/#code-changes","title":"Code Changes","text":"<pre><code># Ensure you have the correct dependencies\nuv sync --dev --frozen\n\n# Make ruff happy\nuv run poe format\n\n# Check if ruff and mypy are happy\nuv run poe lint\n\n# Check if mypy is happy in python 3.10\nmypy --python-version 3.10\n\n# Run tests in parallel.\npytest -n auto # This may take a while.\npytest -n auto &lt;test_suite&gt;\n</code></pre>"},{"location":"contributing/contributing_tldr/#documentation-changes","title":"Documentation Changes","text":"<pre><code># Build the documentation locally and check for broken links\nuv run poe doc\n</code></pre>"},{"location":"contributing/pull_request/","title":"Pull Request Guidelines","text":"<p>This document outlines important guidelines to follow when creating a pull request.</p>"},{"location":"contributing/pull_request/#before-creating-a-pull-request","title":"Before Creating a Pull Request","text":"<ol> <li>Check Existing Issues: Ensure there's a related issue or discussion for your changes. If not, create one first to discuss the proposed changes.</li> <li>Follow the Development Workflow: Make sure you've followed all steps in the contributing guidelines.</li> </ol>"},{"location":"contributing/pull_request/#making-changes","title":"Making Changes","text":"<p>When adding new code, match the existing coding style in the file you're modifying. Consistency within a file and throughout the project is crucial for maintainability.</p>"},{"location":"contributing/pull_request/#following-pr-description-template-instructions","title":"Following PR Description Template Instructions","text":"<p>The PR description template includes a checklist and specific requirements. Please:</p> <ol> <li>Complete the Checklist: Check off all applicable items before requesting review.</li> <li>Provide Clear Descriptions: Clearly describe what the change does, expected behavior, and steps to test.</li> <li>Respond to Feedback: Carefully read maintainer feedback and address all points raised. Ask for clarification if something is unclear.</li> </ol>"},{"location":"contributing/pull_request/#ai-assisted-contributions","title":"AI-Assisted Contributions","text":"<p>We welcome contributions that use AI tools for assistance, but we have strict quality standards to maintain code quality and avoid \"AI spaghetti code.\"</p> <p>Note</p> <p>Most of our new documentation changes are, of course, generated by AI, but we still need to review it and make sure it's correct.</p> <p></p>"},{"location":"contributing/pull_request/#guidelines-for-ai-assisted-prs","title":"Guidelines for AI-Assisted PRs","text":"<ol> <li>Review and Refine: Thoroughly review and understand all AI-generated code. Refactor to match our project's style and remove unnecessary complexity.</li> <li>Test Thoroughly: Don't assume AI-generated code works\u2014test it extensively with comprehensive test cases and manual testing when possible.</li> <li>Understand the Code: You should be able to explain every line. If you don't understand something, learn about it or rewrite it. Maintainers may ask you to explain your code.</li> <li>Avoid Common Pitfalls:<ul> <li>Over-engineering (simplify when possible)</li> <li>Inconsistent style (ensure consistency with our standards)</li> <li>Unnecessary dependencies</li> <li>Copy-paste without adaptation</li> <li>Verbose or obvious comments</li> </ul> </li> <li>Code Quality Still Matters: AI assistance doesn't excuse poor code quality. All code must pass linting, type checking, and follow best practices.</li> <li>Be Transparent: Mention AI assistance in the PR description. Code quality standards remain the same regardless of how the code was written.</li> </ol> <p>Consequences of Poor AI-Assisted Contributions</p> <p>Maintainers who identify low-quality AI-generated code or copy-pasted responses will have no choice but to close the related PRs. This adds unnecessary burden on maintainers and doesn't help the project. Additionally, the contributor's reputation is impacted as maintainers may lose confidence and might restrict the user from making further contributions.</p>"},{"location":"contributing/pull_request/#what-we-consider-ai-spaghetti","title":"What We Consider \"AI Spaghetti\"","text":"<p>Red flags that may result in PR rejection or requests for significant refactoring:</p> <ul> <li>Overly complex solutions when simpler ones exist</li> <li>Unnecessary abstractions or design patterns</li> <li>Code that's difficult to understand or maintain</li> <li>Missing or inadequate tests</li> <li>Copy-pasted code blocks that don't fit the project structure</li> <li>Excessive comments explaining obvious things</li> </ul> <p>Remember: If you use AI tools, you're still responsible for the quality of the final code. Use AI as a starting point, not a final solution.</p>"},{"location":"contributing/pull_request/#commenting-on-the-pr","title":"Commenting on the PR","text":"<p>When commenting on the PR:</p> <ul> <li>Address the feedback points raised by maintainers</li> <li>Ask questions if something is unclear</li> <li>Do not just copy-paste AI-generated responses<ul> <li>Maintainers want to see your thought process and understanding of the codebase</li> <li>Maintainers and other contributors can tell if you're just copying and pasting AI-generated responses</li> </ul> </li> </ul> <p>Thank you for helping make Commitizen better! \ud83c\udf89</p>"},{"location":"customization/changelog_template/","title":"Customizing the changelog template","text":"<p>Commitizen gives you the possibility to provide your own changelog template, by:</p> <ul> <li>providing one with your customization class</li> <li>providing one from the current working directory and setting it:</li> <li>Through the configuration file</li> <li>as <code>--template</code> parameter to both <code>bump</code> and <code>changelog</code> commands</li> <li>either by providing a template with the same name as the default template</li> </ul> <p>By default, the template used is the <code>CHANGELOG.md.j2</code> file from the Commitizen repository.</p>"},{"location":"customization/changelog_template/#providing-a-template-with-your-customization-class","title":"Providing a template with your customization class","text":"<p>There are 3 parameters available to change the template rendering from your custom <code>BaseCommitizen</code>.</p> Parameter Type Default Description <code>template</code> <code>str</code> <code>None</code> Provide your own template name (default to <code>CHANGELOG.md.j2</code>) <code>template_loader</code> <code>str</code> <code>None</code> Override the default template loader (so you can provide template from your customization class) <code>template_extras</code> <code>dict</code> <code>None</code> Provide some extra template parameters <p>Let's see an example.</p> <pre><code>from commitizen.cz.base import BaseCommitizen\nfrom jinja2 import PackageLoader\n\n\nclass MyPlugin(BaseCommitizen):\n    template = \"CHANGELOG.md.jinja\"\n    template_loader = PackageLoader(\"my_plugin\", \"templates\")\n    template_extras = {\"key\": \"value\"}\n</code></pre> <p>This snippet will:</p> <ul> <li>use <code>CHANGELOG.md.jinja</code> as template name</li> <li>search for it in the <code>templates</code> directory for <code>my_plugin</code> package</li> <li>add the <code>key=value</code> variable in the template</li> </ul>"},{"location":"customization/changelog_template/#providing-a-template-from-the-current-working-directory","title":"Providing a template from the current working directory","text":"<p>Users can provide their own template from their current working directory (your project root) by:</p> <ul> <li>providing a template with the same name (<code>CHANGELOG.md.j2</code> unless overridden by your custom class)</li> <li>setting your template path as <code>template</code> configuration</li> <li>giving your template path as <code>--template</code> parameter to <code>bump</code> and <code>changelog</code> commands</li> </ul> <p>Note</p> <p>The path is relative to the current working directory, aka your project root most of the time.</p>"},{"location":"customization/changelog_template/#template-variables","title":"Template variables","text":"<p>The default template use a single <code>tree</code> variable which is a list of entries (a release) with the following format:</p> Name Type Description version <code>str</code> The release version date <code>datetime</code> The release date changes <code>list[tuple[str, list[Change]]]</code> The release sorted changes list in the form <code>(type, changes)</code> <p>Each <code>Change</code> has the following fields:</p> Name Type Description scope <code>str | None</code> An optional scope message <code>str</code> The commit message body sha1 <code>str</code> The commit <code>sha1</code> parents <code>list[str]</code> The parent commit(s) <code>sha1</code>(s) author <code>str</code> The commit author name author_email <code>str</code> The commit author email <p>Note</p> <p>The field values depend on the customization class and/or the settings you provide</p> <p>The <code>parents</code> field can be used to identify merge commits and generate a changelog based on those. Another use case is listing commits that belong to the same pull request.</p> <p>When using another template (either provided by a plugin or by yourself), you can also pass extra template variables by:</p> <ul> <li>defining them in your configuration with the <code>extras</code> settings</li> <li>providing them on the command line with the <code>--extra/-e</code> parameter to <code>bump</code> and <code>changelog</code> commands</li> </ul>"},{"location":"customization/config_file/","title":"Customize in configuration file","text":"<p>The basic steps are:</p> <ol> <li>Define your custom committing or bumping rules in the configuration file.</li> <li>Declare <code>name = \"cz_customize\"</code> in your configuration file, or add <code>-n cz_customize</code> when running Commitizen.</li> </ol> <p>Warning</p> <p><code>cz_customize</code> is likely to be removed or renamed in the next major release.</p> <p>Example:</p> pyproject.toml<pre><code>[tool.commitizen]\nname = \"cz_customize\"\n\n[tool.commitizen.customize]\nmessage_template = \"{{change_type}}:{% if show_message %} {{message}}{% endif %}\"\nexample = \"feature: this feature enable customize through config file\"\nschema = \"&lt;type&gt;: &lt;body&gt;\"\nschema_pattern = \"(feature|bug fix):(\\\\s.*)\"\nbump_pattern = \"^(break|new|fix|hotfix)\"\nbump_map = {\"break\" = \"MAJOR\", \"new\" = \"MINOR\", \"fix\" = \"PATCH\", \"hotfix\" = \"PATCH\"}\nchange_type_order = [\"BREAKING CHANGE\", \"feat\", \"fix\", \"refactor\", \"perf\"]\ninfo_path = \"cz_customize_info.txt\"\ninfo = \"\"\"\nThis is customized info\n\"\"\"\ncommit_parser = \"^(?P&lt;change_type&gt;feature|bug fix):\\\\s(?P&lt;message&gt;.*)?\"\nchangelog_pattern = \"^(feature|bug fix)?(!)?\"\nchange_type_map = {\"feature\" = \"Feat\", \"bug fix\" = \"Fix\"}\n\n[[tool.commitizen.customize.questions]]\ntype = \"list\"\nname = \"change_type\"\nchoices = [{value = \"feature\", name = \"feature: A new feature.\"}, {value = \"bug fix\", name = \"bug fix: A bug fix.\"}]\n# choices = [\"feature\", \"fix\"]  # short version\nmessage = \"Select the type of change you are committing\"\n\n[[tool.commitizen.customize.questions]]\ntype = \"input\"\nname = \"message\"\nmessage = \"Body.\"\n\n[[tool.commitizen.customize.questions]]\ntype = \"confirm\"\nname = \"show_message\"\nmessage = \"Do you want to add body message in commit?\"\n</code></pre> <p>The equivalent example for a json config file:</p> .cz.json<pre><code>{\n    \"commitizen\": {\n        \"name\": \"cz_customize\",\n        \"customize\": {\n            \"message_template\": \"{{change_type}}:{% if show_message %} {{message}}{% endif %}\",\n            \"example\": \"feature: this feature enable customize through config file\",\n            \"schema\": \"&lt;type&gt;: &lt;body&gt;\",\n            \"schema_pattern\": \"(feature|bug fix):(\\\\s.*)\",\n            \"bump_pattern\": \"^(break|new|fix|hotfix)\",\n            \"bump_map\": {\n                \"break\": \"MAJOR\",\n                \"new\": \"MINOR\",\n                \"fix\": \"PATCH\",\n                \"hotfix\": \"PATCH\"\n            },\n            \"change_type_order\": [\"BREAKING CHANGE\", \"feat\", \"fix\", \"refactor\", \"perf\"],\n            \"info_path\": \"cz_customize_info.txt\",\n            \"info\": \"This is customized info\",\n            \"commit_parser\": \"^(?P&lt;change_type&gt;feature|bug fix):\\\\s(?P&lt;message&gt;.*)?\",\n            \"changelog_pattern\": \"^(feature|bug fix)?(!)?\",\n            \"change_type_map\": {\"feature\": \"Feat\", \"bug fix\": \"Fix\"},\n            \"questions\": [\n                {\n                    \"type\": \"list\",\n                    \"name\": \"change_type\",\n                    \"choices\": [\n                        {\n                            \"value\": \"feature\",\n                            \"name\": \"feature: A new feature.\"\n                        },\n                        {\n                            \"value\": \"bug fix\",\n                            \"name\": \"bug fix: A bug fix.\"\n                        }\n                    ],\n                    \"message\": \"Select the type of change you are committing\"\n                },\n                {\n                    \"type\": \"input\",\n                    \"name\": \"message\",\n                    \"message\": \"Body.\"\n                },\n                {\n                    \"type\": \"confirm\",\n                    \"name\": \"show_message\",\n                    \"message\": \"Do you want to add body message in commit?\"\n                }\n            ]\n        }\n    }\n}\n</code></pre> <p>And the correspondent example for a yaml file:</p> .cz.yaml<pre><code>commitizen:\n  name: cz_customize\n  customize:\n    message_template: '{{change_type}}:{% if show_message %} {{message}}{% endif %}'\n    example: 'feature: this feature enable customize through config file'\n    schema: '&lt;type&gt;: &lt;body&gt;'\n    schema_pattern: '(feature|bug fix):(\\\\s.*)'\n    bump_pattern: '^(break|new|fix|hotfix)'\n    commit_parser: '^(?P&lt;change_type&gt;feature|bug fix):\\\\s(?P&lt;message&gt;.*)?'\n    changelog_pattern: '^(feature|bug fix)?(!)?'\n    change_type_map:\n      feature: Feat\n      bug fix: Fix\n    bump_map:\n      break: MAJOR\n      new: MINOR\n      fix: PATCH\n      hotfix: PATCH\n    change_type_order: ['BREAKING CHANGE', 'feat', 'fix', 'refactor', 'perf']\n    info_path: cz_customize_info.txt\n    info: This is customized info\n    questions:\n    - type: list\n      name: change_type\n      choices:\n      - value: feature\n        name: 'feature: A new feature.'\n      - value: bug fix\n        name: 'bug fix: A bug fix.'\n      message: Select the type of change you are committing\n    - type: input\n      name: message\n      message: 'Body.'\n    - type: confirm\n      name: show_message\n      message: 'Do you want to add body message in commit?'\n</code></pre>"},{"location":"customization/config_file/#configuration-file-options","title":"Configuration File Options","text":"Parameter Type Default Description <code>questions</code> <code>Questions</code> <code>None</code> Questions regarding the commit message. Detailed below. The type <code>Questions</code> is an alias to <code>Iterable[MutableMapping[str, Any]]</code> which is defined in <code>commitizen.defaults</code>. It expects a list of dictionaries. <code>message_template</code> <code>str</code> <code>None</code> The template for generating message from the given answers. <code>message_template</code> should either follow Jinja2 formatting specification, and all the variables in this template should be defined in <code>name</code> in <code>questions</code> <code>example</code> <code>str</code> <code>\"\"</code> (OPTIONAL) Provide an example to help understand the style. Used by <code>cz example</code>. <code>schema</code> <code>str</code> <code>\"\"</code> (OPTIONAL) Show the schema used. Used by <code>cz schema</code>. <code>schema_pattern</code> <code>str</code> <code>\"\"</code> (OPTIONAL) The regular expression used to do commit message validation. Used by <code>cz check</code>. <code>info_path</code> <code>str</code> <code>\"\"</code> (OPTIONAL) The path to the file that contains explanation of the commit rules. Used by <code>cz info</code>. If not provided <code>cz info</code>, will load <code>info</code> instead. <code>info</code> <code>str</code> <code>\"\"</code> (OPTIONAL) Explanation of the commit rules. Used by <code>cz info</code>. <code>bump_map</code> <code>dict</code> <code>None</code> (OPTIONAL) Dictionary mapping the extracted information to a <code>SemVer</code> increment type (<code>MAJOR</code>, <code>MINOR</code>, <code>PATCH</code>) <code>bump_pattern</code> <code>str</code> <code>None</code> (OPTIONAL) Regex to extract information from commit (subject and body) <code>change_type_order</code> <code>str</code> <code>None</code> (OPTIONAL) List of strings used to order the Changelog. All other types will be sorted alphabetically. Default is <code>[\"BREAKING CHANGE\", \"Feat\", \"Fix\", \"Refactor\", \"Perf\"]</code> <code>commit_parser</code> <code>str</code> <code>None</code> (OPTIONAL) Regex to extract information used in creating changelog. See more <code>changelog_pattern</code> <code>str</code> <code>None</code> (OPTIONAL) Regex to understand which commits to include in the changelog <code>change_type_map</code> <code>dict</code> <code>None</code> (OPTIONAL) Dictionary mapping the type of the commit to a changelog entry"},{"location":"customization/config_file/#detailed-questions-content","title":"Detailed <code>questions</code> content","text":"Parameter Type Default Description <code>type</code> <code>str</code> <code>None</code> The type of questions. Valid types: <code>list</code>, <code>select</code>, <code>input</code>, etc. The <code>select</code> type provides an interactive searchable list interface. See More <code>name</code> <code>str</code> <code>None</code> The key for the value answered by user. It's used in <code>message_template</code> <code>message</code> <code>str</code> <code>None</code> Detail description for the question. <code>choices</code> <code>list</code> <code>None</code> (OPTIONAL) The choices when <code>type = list</code> or <code>type = select</code>. Either use a list of values or a list of dictionaries with <code>name</code> and <code>value</code> keys. Keyboard shortcuts can be defined via <code>key</code>. See examples above. <code>default</code> <code>Any</code> <code>None</code> (OPTIONAL) The default value for this question. <code>filter</code> <code>str</code> <code>None</code> (OPTIONAL) Validator for user's answer. (Work in Progress) <code>multiline</code> <code>bool</code> <code>False</code> (OPTIONAL) Enable multiline support when <code>type = input</code>. <code>use_search_filter</code> <code>bool</code> <code>False</code> (OPTIONAL) Enable search/filter functionality for list/select type questions. This allows users to type and filter through the choices. <code>use_jk_keys</code> <code>bool</code> <code>True</code> (OPTIONAL) Enable/disable j/k keys for navigation in list/select type questions. Set to false if you prefer arrow keys only."},{"location":"customization/config_file/#shortcut-keys","title":"Shortcut keys","text":"<p>When the <code>use_shortcuts</code> config option is enabled, Commitizen can show and use keyboard shortcuts to select items from lists directly. For example, when using the <code>cz_conventional_commits</code> Commitizen template, shortcut keys are shown when selecting the commit type. Unless otherwise defined, keyboard shortcuts will be numbered automatically. To specify keyboard shortcuts for your custom choices, provide the shortcut using the <code>key</code> parameter in dictionary form for each choice you would like to customize.</p>"},{"location":"customization/python_class/","title":"Customizing through a python class","text":"<p>The basic steps are:</p> <ol> <li>Inheriting from <code>BaseCommitizen</code>.</li> <li>Give a name to your rules.</li> <li>Create a Python package using proper build backend</li> <li>Expose the class as a <code>commitizen.plugin</code> entrypoint.</li> </ol> <p>Check an example on how to configure <code>BaseCommitizen</code>.</p> <p>You can also automate the steps above through cookiecutter.</p> <pre><code>cookiecutter gh:commitizen-tools/commitizen_cz_template\n</code></pre> <p>See commitizen_cz_template for details.</p> <p>See Third-party plugins for more details on how to create a third-party Commitizen plugin.</p>"},{"location":"customization/python_class/#custom-commit-rules","title":"Custom commit rules","text":"<p>Create a Python module, for example <code>cz_jira.py</code>.</p> <p>Inherit from <code>BaseCommitizen</code>, and you must define <code>questions</code> and <code>message</code>. The others are optional.</p> cz_jira.py<pre><code>from commitizen.cz.base import BaseCommitizen\nfrom commitizen.defaults import Questions\n\n\nclass JiraCz(BaseCommitizen):\n    # Questions = Iterable[MutableMapping[str, Any]]\n    # It expects a list with dictionaries.\n    def questions(self) -&gt; Questions:\n        \"\"\"Questions regarding the commit message.\"\"\"\n        questions = [\n            {\"type\": \"input\", \"name\": \"title\", \"message\": \"Commit title\"},\n            {\"type\": \"input\", \"name\": \"issue\", \"message\": \"Jira Issue number:\"},\n        ]\n        return questions\n\n    def message(self, answers: dict) -&gt; str:\n        \"\"\"Generate the message with the given answers.\"\"\"\n        return f\"answers['title'] (#answers['issue'])\"\n\n    def example(self) -&gt; str:\n        \"\"\"Provide an example to help understand the style (OPTIONAL)\n\n        Used by `cz example`.\n        \"\"\"\n        return \"Problem with user (#321)\"\n\n    def schema(self) -&gt; str:\n        \"\"\"Show the schema used (OPTIONAL)\n\n        Used by `cz schema`.\n        \"\"\"\n        return \"&lt;title&gt; (&lt;issue&gt;)\"\n\n    def info(self) -&gt; str:\n        \"\"\"Explanation of the commit rules. (OPTIONAL)\n\n        Used by `cz info`.\n        \"\"\"\n        return \"We use this because is useful\"\n</code></pre> <p>The next file required is <code>setup.py</code> modified from flask version.</p> setup.py<pre><code>from setuptools import setup\n\nsetup(\n    name=\"JiraCommitizen\",\n    version=\"0.1.0\",\n    py_modules=[\"cz_jira\"],\n    license=\"MIT\",\n    long_description=\"this is a long description\",\n    install_requires=[\"commitizen\"],\n    entry_points={\"commitizen.plugin\": [\"cz_jira = cz_jira:JiraCz\"]},\n)\n</code></pre> <p>So in the end, we would have</p> <pre><code>.\n\u251c\u2500\u2500 cz_jira.py\n\u2514\u2500\u2500 setup.py\n</code></pre> <p>And that's it. You can install it without uploading to PyPI by simply doing <code>pip install .</code></p>"},{"location":"customization/python_class/#custom-bump-rules","title":"Custom bump rules","text":"<p>You need to define 2 parameters inside your custom <code>BaseCommitizen</code>.</p> Parameter Type Default Description <code>bump_pattern</code> <code>str</code> <code>None</code> Regex to extract information from commit (subject and body) <code>bump_map</code> <code>dict</code> <code>None</code> Dictionary mapping the extracted information to a <code>SemVer</code> increment type (<code>MAJOR</code>, <code>MINOR</code>, <code>PATCH</code>) <p>Let's see an example.</p> cz_strange.py<pre><code>from commitizen.cz.base import BaseCommitizen\n\n\nclass StrangeCommitizen(BaseCommitizen):\n    bump_pattern = r\"^(break|new|fix|hotfix)\"\n    bump_map = {\"break\": \"MAJOR\", \"new\": \"MINOR\", \"fix\": \"PATCH\", \"hotfix\": \"PATCH\"}\n</code></pre> <p>That's it, your Commitizen now supports custom rules, and you can run.</p> <pre><code>cz -n cz_strange bump\n</code></pre>"},{"location":"customization/python_class/#custom-commit-validation-and-error-message","title":"Custom commit validation and error message","text":"<p>The commit message validation can be customized by overriding the <code>validate_commit_message</code> and <code>format_error_message</code> methods from <code>BaseCommitizen</code>. This allows for a more detailed feedback to the user where the error originates from.</p> <pre><code>import re\nfrom commitizen.cz.base import BaseCommitizen, ValidationResult\nfrom commitizen import git\n\n\nclass CustomValidationCz(BaseCommitizen):\n    def validate_commit_message(\n        self,\n        *,\n        commit_msg: str,\n        pattern: str | None,\n        allow_abort: bool,\n        allowed_prefixes: list[str],\n        max_msg_length: int,\n    ) -&gt; ValidationResult:\n        \"\"\"Validate commit message against the pattern.\"\"\"\n        if not commit_msg:\n            return allow_abort, [] if allow_abort else [f\"commit message is empty\"]\n        if pattern is None:\n            return True, []\n        if any(map(commit_msg.startswith, allowed_prefixes)):\n            return True, []\n        if max_msg_length:\n            msg_len = len(commit_msg.partition(\"\\n\")[0].strip())\n            if msg_len &gt; max_msg_length:\n                return False, [\n                    f\"commit message is too long. Max length is {max_msg_length}\"\n                ]\n        pattern_match = re.match(pattern, commit_msg)\n        if pattern_match:\n            return True, []\n        else:\n            # Perform additional validation of the commit message format\n            # and add custom error messages as needed\n            return False, [\"commit message does not match the pattern\"]\n\n    def format_exception_message(\n        self, ill_formatted_commits: list[tuple[git.GitCommit, list]]\n    ) -&gt; str:\n        \"\"\"Format commit errors.\"\"\"\n        displayed_msgs_content = \"\\n\".join(\n            (\n                f'commit \"{commit.rev}\": \"{commit.message}\"'\n                f\"errors:\\n\"\n                \"\\n\".join((f\"- {error}\" for error in errors))\n            )\n            for commit, errors in ill_formatted_commits\n        )\n        return (\n            \"commit validation: failed!\\n\"\n            \"please enter a commit message in the commitizen format.\\n\"\n            f\"{displayed_msgs_content}\\n\"\n            f\"pattern: {self.schema_pattern()}\"\n        )\n</code></pre>"},{"location":"customization/python_class/#custom-changelog-generator","title":"Custom changelog generator","text":"<p>The changelog generator should just work in a very basic manner without touching anything. You can customize it of course, and the following variables are the ones you need to add to your custom <code>BaseCommitizen</code>.</p> Parameter Type Required Description <code>commit_parser</code> <code>str</code> NO Regex which should provide the variables explained in the [changelog description][changelog-des] <code>changelog_pattern</code> <code>str</code> NO Regex to validate the commits, this is useful to skip commits that don't meet your ruling standards like a Merge. Usually the same as bump_pattern <code>change_type_map</code> <code>dict</code> NO Convert the title of the change type that will appear in the changelog, if a value is not found, the original will be provided <code>changelog_message_builder_hook</code> <code>method: (dict, git.GitCommit) -&gt; dict | list | None</code> NO Customize with extra information your message output, like adding links, this function is executed per parsed commit. Each GitCommit contains the following attrs: <code>rev</code>, <code>title</code>, <code>body</code>, <code>author</code>, <code>author_email</code>. Returning a falsy value ignore the commit. <code>changelog_hook</code> <code>method: (full_changelog: str, partial_changelog: Optional[str]) -&gt; str</code> NO Receives the whole and partial (if used incremental) changelog. Useful to send slack messages or notify a compliance department. Must return the full_changelog <code>changelog_release_hook</code> <code>method: (release: dict, tag: git.GitTag) -&gt; dict</code> NO Receives each generated changelog release and its associated tag. Useful to enrich releases before they are rendered. Must return the update release cz_strange.py<pre><code>from commitizen.cz.base import BaseCommitizen\nimport chat\nimport compliance\n\n\nclass StrangeCommitizen(BaseCommitizen):\n    changelog_pattern = r\"^(break|new|fix|hotfix)\"\n    commit_parser = r\"^(?P&lt;change_type&gt;feat|fix|refactor|perf|BREAKING CHANGE)(?:\\((?P&lt;scope&gt;[^()\\r\\n]*)\\)|\\()?(?P&lt;breaking&gt;!)?:\\s(?P&lt;message&gt;.*)?\"\n    change_type_map = {\n        \"feat\": \"Features\",\n        \"fix\": \"Bug Fixes\",\n        \"refactor\": \"Code Refactor\",\n        \"perf\": \"Performance improvements\",\n    }\n\n    def changelog_message_builder_hook(\n        self, parsed_message: dict, commit: git.GitCommit\n    ) -&gt; dict | list | None:\n        rev = commit.rev\n        m = parsed_message[\"message\"]\n        parsed_message[\n            \"message\"\n        ] = f\"{m} {rev} [{commit.author}]({commit.author_email})\"\n        return parsed_message\n\n    def changelog_release_hook(self, release: dict, tag: git.GitTag) -&gt; dict:\n        release[\"author\"] = tag.author\n        return release\n\n    def changelog_hook(\n        self, full_changelog: str, partial_changelog: Optional[str]\n    ) -&gt; str:\n        \"\"\"Executed at the end of the changelog generation\n\n        full_changelog: it's the output about to being written into the file\n        partial_changelog: it's the new stuff, this is useful to send slack messages or\n                           similar\n\n        Return:\n            the new updated full_changelog\n        \"\"\"\n        if partial_changelog:\n            chat.room(\"#committers\").notify(partial_changelog)\n        if full_changelog:\n            compliance.send(full_changelog)\n        full_changelog.replace(\" fix \", \" **fix** \")\n        return full_changelog\n</code></pre>"},{"location":"customization/python_class/#raise-customize-exception","title":"Raise Customize Exception","text":"<p>If you want <code>commitizen</code> to catch your exception and print the message, you'll have to inherit <code>CzException</code>.</p> <pre><code>from commitizen.cz.exception import CzException\n\n\nclass NoSubjectProvidedException(CzException):\n    ...\n</code></pre>"},{"location":"customization/python_class/#migrating-from-legacy-plugin-format","title":"Migrating from legacy plugin format","text":"<p>Commitizen migrated to a new plugin format relying on <code>importlib.metadata.EntryPoint</code>. Migration should be straight-forward for legacy plugins:</p> <ul> <li>Remove the <code>discover_this</code> line from your plugin module</li> <li>Expose the plugin class under as a <code>commitizen.plugin</code> entrypoint.</li> </ul> <p>The name of the plugin is now determined by the name of the entrypoint.</p>"},{"location":"customization/python_class/#example","title":"Example","text":"<p>If you were having a <code>CzPlugin</code> class in a <code>cz_plugin.py</code> module like this:</p> <pre><code>from commitizen.cz.base import BaseCommitizen\n\n\nclass PluginCz(BaseCommitizen):\n    ...\n\n\ndiscover_this = PluginCz\n</code></pre> <p>Then remove the <code>discover_this</code> line:</p> <pre><code>from commitizen.cz.base import BaseCommitizen\n\n\nclass PluginCz(BaseCommitizen):\n    ...\n</code></pre> <p>and expose the class as entrypoint in your <code>setuptools</code>:</p> <pre><code>from setuptools import setup\n\nsetup(\n    name=\"MyPlugin\",\n    version=\"0.1.0\",\n    py_modules=[\"cz_plugin\"],\n    entry_points={\"commitizen.plugin\": [\"plugin = cz_plugin:PluginCz\"]},\n    ...,\n)\n</code></pre> <p>Then your plugin will be available under the name <code>plugin</code>.</p>"},{"location":"third-party-plugins/about/","title":"What are third-party plugins?","text":"<p>Third-party plugins are a way to extend Commitizen with additional customized features.</p> <p>These plugins are available as PyPI packages (installable with <code>pip</code>).</p> <p>Note</p> <p>New plugins are welcome! Once you published your plugins, please send us a PR to update this page.</p> <p>Historical notes</p> <p>This section was originally called \"Third-Party Commitizen Templates\", but has been renamed to \"Third-Party Commitizen Plugins\" to better reflect the content.</p>"},{"location":"third-party-plugins/about/#plugin-features","title":"Plugin features","text":""},{"location":"third-party-plugins/about/#commit-message-convention","title":"Commit message convention","text":"<p>Includes the rules to validate and generate commit messages.</p>"},{"location":"third-party-plugins/about/#version-scheme","title":"Version scheme","text":"<p>Includes the rules to generate version numbers.</p>"},{"location":"third-party-plugins/about/#version-provider","title":"Version provider","text":"<p>Read and write version from data sources.</p>"},{"location":"third-party-plugins/about/#changelog-format","title":"Changelog format","text":"<p>Generate changelog in customized formats.</p>"},{"location":"third-party-plugins/about/#how-to-help-us-update-the-list-of-plugins","title":"How to help us update the list of plugins?","text":"<p>Please document what features the plugin provides:</p> <ul> <li>a convention</li> <li>a scheme</li> <li>a provider</li> <li>a <code>changelog_format</code></li> </ul> <p>Of course, a plugin can provide multiple features. You may have noticed that <code>commitizen</code> itself can be viewed as a plugin that provides all the above features.</p> <p>Please see cz-path for a detailed example.</p>"},{"location":"third-party-plugins/about/#new-plugin-documentation-template","title":"New plugin documentation template","text":"<pre><code># [Package name](https://github.com/author/package-name)\n\n&lt;!-- Description of the plugin. --&gt;\n\n&lt;!-- What features does the plugin provide? --&gt;\n\n## Installation\n\n```sh\npip install package-name\n```\n\n## Usage\n\n```sh\ncz --name package-name commit\n```\n\n## Example\n\n&lt;!-- Example usage of the plugin. --&gt;\n</code></pre>"},{"location":"third-party-plugins/commitizen-deno-provider/","title":"commitizen-deno-provider","text":"<p>A provider for Deno projects. The provider updates the version in <code>deno.json</code> and <code>jsr.json</code> files.</p>"},{"location":"third-party-plugins/commitizen-deno-provider/#installation","title":"Installation","text":"<pre><code>pip install commitizen-deno-provider\n</code></pre>"},{"location":"third-party-plugins/commitizen-deno-provider/#usage","title":"Usage","text":"<p>Add <code>deno-provider</code> to your configuration file.</p> <p>Example for <code>.cz.yaml</code>:</p> <pre><code>---\ncommitizen:\n  major_version_zero: true\n  name: cz_conventional_commits\n  tag_format: $version\n  update_changelog_on_bump: true\n  version_provider: deno-provider\n  version_scheme: semver\n</code></pre>"},{"location":"third-party-plugins/commitizen-emoji/","title":"Commitizen emoji (Unmaintained)","text":"<p>Just like conventional commit format, but with emojis and optionally time spent and related tasks.</p>"},{"location":"third-party-plugins/commitizen-emoji/#installation","title":"Installation","text":"<pre><code>pip install commitizen-emoji\n</code></pre>"},{"location":"third-party-plugins/commitizen-emoji/#usage","title":"Usage","text":"<pre><code>cz --name cz_commitizen_emoji commit\n</code></pre>"},{"location":"third-party-plugins/conventional-jira/","title":"Conventional JIRA","text":"<p>Just like conventional commit format, but the scope has been restricted to a JIRA issue format, i.e. <code>project-issueNumber</code>. This standardises scopes in a meaningful way.</p>"},{"location":"third-party-plugins/conventional-jira/#installation","title":"Installation","text":"<pre><code>pip install conventional-JIRA\n</code></pre>"},{"location":"third-party-plugins/cz-ai/","title":"cz-ai","text":"<p>A Commitizen plugin that leverages OpenAI's GPT-4o to automatically generate clear, concise, and conventional commit messages based on your staged git changes.</p>"},{"location":"third-party-plugins/cz-ai/#installation","title":"Installation","text":"<pre><code>pip install cz-ai\n</code></pre>"},{"location":"third-party-plugins/cz-ai/#usage","title":"Usage","text":"<pre><code>cz --name cz_ai commit\n</code></pre>"},{"location":"third-party-plugins/cz-conventional-gitmoji/","title":"cz-conventional-gitmoji","text":"<p>conventional commits, but with gitmojis.</p> <p>Includes a pre-commit hook that automatically adds the correct gitmoji to the commit message based on the conventional type.</p>"},{"location":"third-party-plugins/cz-conventional-gitmoji/#installation","title":"Installation","text":"<pre><code>pip install cz-conventional-gitmoji\n</code></pre>"},{"location":"third-party-plugins/cz-conventional-gitmoji/#usage","title":"Usage","text":"<pre><code>cz --name cz_gitmoji commit\n</code></pre>"},{"location":"third-party-plugins/cz-emoji/","title":"cz-emoji","text":"<p>conventional commit format, but with emojis.</p>"},{"location":"third-party-plugins/cz-emoji/#installation","title":"Installation","text":"<pre><code>pip install cz-emoji\n</code></pre>"},{"location":"third-party-plugins/cz-emoji/#usage","title":"Usage","text":"<pre><code>cz --name cz_emoji commit\n</code></pre>"},{"location":"third-party-plugins/cz-legacy/","title":"Conventional Legacy (cz_legacy)","text":"<p>An extension of the conventional commit format to include user-specified legacy change types in the <code>CHANGELOG</code> while preventing the legacy change types from being used in new commit messages.</p>"},{"location":"third-party-plugins/cz-legacy/#installation","title":"Installation","text":"<pre><code>pip install cz_legacy\n</code></pre>"},{"location":"third-party-plugins/cz-legacy/#usage","title":"Usage","text":"<p>See the Conventional Legacy README for instructions on configuration.</p>"},{"location":"third-party-plugins/cz-path/","title":"cz-path","text":"<p>Provides prefix choices for commit messages based on staged files (Git only). For example, if the staged files are <code>component/z/a.ts</code> and <code>component/z/b.ts</code>, the path prefix option will be <code>component/z</code> and commit message might look like: <code>component/z/: description of changes</code>. If only one file is staged, the extension is removed in the prefix.</p> <p>This plugins provides a commitizen convention for commit messages.</p>"},{"location":"third-party-plugins/cz-path/#installation","title":"Installation","text":"<pre><code>pip install cz-path\n</code></pre>"},{"location":"third-party-plugins/cz-path/#usage","title":"Usage","text":"<p>Add <code>cz-path</code> to your configuration file.</p> <p>Example for <code>.cz.json</code>:</p> <pre><code>{\n  \"commitizen\": {\n    \"name\": \"cz_path\",\n    \"remove_path_prefixes\": [\"src\", \"module_name\"]\n  }\n}\n</code></pre> <p>The default value for <code>remove_path_prefixes</code> is <code>[\"src\"]</code>. Adding <code>/</code> to the prefixes is not required.</p>"},{"location":"third-party-plugins/cz-path/#example-session","title":"Example session","text":"<pre><code> $ git add .vscode/\n $ cz -n cz_path c\n? Prefix: (Use arrow keys)\n \u00bb .vscode\n   .vscode/\n   project\n   (empty)\n? Prefix: .vscode\n? Commit title: adjust settings\n\n.vscode: adjust settings\n\n[main 0000000] .vscode: adjust settings\n 2 files changed, 1 insertion(+), 11 deletions(-)\n\nCommit successful!\n</code></pre>"},{"location":"third-party-plugins/github-jira-conventional/","title":"GitHub JIRA Conventional","text":"<p>This plugin extends the Commitizen tools by:</p> <ul> <li>requiring a JIRA issue ID in the commit message</li> <li>creating links to GitHub commits in <code>CHANGELOG.md</code></li> <li>creating links to JIRA issues in <code>CHANGELOG.md</code></li> </ul>"},{"location":"third-party-plugins/github-jira-conventional/#installation","title":"Installation","text":"<pre><code>pip install cz-github-jira-conventional\n</code></pre> <p>For installation instructions (configuration and pre-commit), please visit the GitHub repository.</p>"},{"location":"tutorials/auto_check/","title":"Automatically check message before commit","text":""},{"location":"tutorials/auto_check/#about","title":"About","text":"<p>To automatically check a commit message before committing, use a Git hook. This ensures all commit messages match your project's commitizen format before they are accepted into the repository.</p> <p>When a commit message fails validation, Git rejects the commit and displays an error explaining what went wrong. Update the message to the required format before trying again.</p>"},{"location":"tutorials/auto_check/#how-to","title":"How to","text":"<p>There are two common methods for installing the hooks:</p>"},{"location":"tutorials/auto_check/#method-1-using-pre-commit-hook-frameworks-recommended","title":"Method 1: Using pre-commit hook frameworks (Recommended)","text":"<p>Using pre-commit hook frameworks is the recommended approach because hook installation, updates, and execution are handled automatically. Two common frameworks are:</p> <ol> <li>prek (faster)</li> <li>pre-commit</li> </ol> <p>In the steps below, we'll use <code>prek</code>.</p> <p>Using pre-commit framework</p> <p>If you use pre-commit instead of prek, you can run the same commands. Simply replace prek with pre-commit in the steps below.</p>"},{"location":"tutorials/auto_check/#step-1-install-prek","title":"Step 1: Install prek","text":"<pre><code>python -m pip install prek\n</code></pre>"},{"location":"tutorials/auto_check/#step-2-create-pre-commit-configyaml","title":"Step 2: Create <code>.pre-commit-config.yaml</code>","text":"<p>Create a <code>.pre-commit-config.yaml</code> file in your project root directory with the following content:</p> <pre><code>---\nrepos:\n  - repo: https://github.com/commitizen-tools/commitizen\n    rev: v4.10.0  # Use the latest version or a specific version\n    hooks:\n      - id: commitizen\n        stages: [commit-msg]\n</code></pre> <p>Using the latest version</p> <p>Replace <code>v4.10.0</code> with the latest commitizen version. You can find the latest version on GitHub releases or use a specific commit SHA for pinning to an exact version.</p>"},{"location":"tutorials/auto_check/#step-3-install-the-hook","title":"Step 3: Install the hook","text":"<p>Install the configuration into Git's hook system:</p> <pre><code>prek install --hook-type commit-msg\n</code></pre> <p>The hook is now active! Every time you create a commit, commitizen will automatically validate your commit message.</p>"},{"location":"tutorials/auto_check/#method-2-manual-git-hook-installation","title":"Method 2: Manual Git hook installation","text":"<p>If you prefer not to use a pre-commit framework, you can manually create a Git hook. This gives you full control over the hook script but requires manual maintenance.</p>"},{"location":"tutorials/auto_check/#step-1-create-the-commit-msg-hook","title":"Step 1: Create the commit-msg hook","text":"<p>Navigate to your project's <code>.git/hooks</code> directory and create the <code>commit-msg</code> hook file:</p> <pre><code>cd .git/hooks\ntouch commit-msg\nchmod +x commit-msg\n</code></pre>"},{"location":"tutorials/auto_check/#step-2-add-the-commitizen-check-command","title":"Step 2: Add the commitizen check command","text":"<p>Open the <code>commit-msg</code> file in your editor and add the following content:</p> <pre><code>#!/bin/bash\ncz check --allow-abort --commit-msg-file $1\n</code></pre> <p>Where:</p> <ul> <li><code>$1</code> is the temporary file path that Git provides, containing the current commit message</li> <li><code>--allow-abort</code> allows empty commit messages (which typically instruct Git to abort a commit)</li> <li><code>--commit-msg-file</code> tells commitizen to read the commit message from the specified file</li> </ul> <p>The hook is now active! Each time you create a commit, this hook will automatically validate your commit message.</p>"},{"location":"tutorials/auto_check/#testing-the-hook","title":"Testing the hook","text":"<p>After installing the hook, you can test it by attempting to commit with an invalid message:</p> <pre><code># This should fail with an invalid message\ngit commit -m \"invalid commit message\"\n\n# This should succeed with a valid message\ngit commit -m \"feat: add new feature\"\n</code></pre> <p>If the hook is working correctly, invalid commit messages are rejected with an error explaining what's wrong.</p>"},{"location":"tutorials/auto_check/#what-happens-when-validation-fails","title":"What happens when validation fails?","text":"<p>When a commit message fails validation:</p> <ol> <li>Git will abort the commit</li> <li>An error message will be displayed showing:</li> <li>Which commit failed (if checking multiple commits)</li> <li>The invalid commit message</li> <li>The expected pattern/format</li> <li>Your changes remain staged, so you can simply amend the commit message and try again</li> </ol> <p>Example error output:</p> <pre><code>commit validation: failed!\nplease enter a commit message in the commitizen format.\ncommit \"abc123\": \"invalid message\"\npattern: ^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\\(.+\\))?: .{1,}\n</code></pre>"},{"location":"tutorials/auto_check/#troubleshooting","title":"Troubleshooting","text":""},{"location":"tutorials/auto_check/#hook-not-running","title":"Hook not running","text":"<ul> <li>Verify the hook file exists: Check that <code>.git/hooks/commit-msg</code> exists and is executable</li> <li>Check file permissions: Ensure the hook has execute permissions (<code>chmod +x .git/hooks/commit-msg</code>)</li> <li>Verify commitizen is installed: Run <code>cz --version</code> to confirm commitizen is available in your PATH</li> <li>Check Git version: Ensure you're using a recent version of Git that supports hooks</li> </ul>"},{"location":"tutorials/auto_check/#prek-hook-not-working","title":"Prek hook not working","text":"<ul> <li>Verify installation: Run <code>prek --version</code> to confirm pre-commit is installed</li> <li>Reinstall the hook: Try running <code>prek install --hook-type commit-msg</code> again</li> <li>Check configuration: Verify your <code>.pre-commit-config.yaml</code> file is valid YAML and in the project root</li> <li>Update hooks: Run <code>prek autoupdate</code> to update to the latest versions</li> </ul>"},{"location":"tutorials/auto_check/#bypassing-the-hook-when-needed","title":"Bypassing the hook (when needed)","text":"<p>If you need to bypass the hook temporarily (e.g., for merge commits or special cases), you can use:</p> <pre><code>git commit --no-verify -m \"your message\"\n</code></pre> <p>Use with caution</p> <p>Only bypass hooks when absolutely necessary, as it defeats the purpose of automated validation.</p>"},{"location":"tutorials/auto_check/#additional-resources","title":"Additional resources","text":"<ul> <li>Learn more about Git hooks</li> <li>See the check command documentation for more validation options</li> <li>Check out prek documentation for advanced hook management</li> <li>Check out pre-commit documentation for advanced hook management</li> </ul>"},{"location":"tutorials/auto_prepare_commit_message/","title":"Automatically prepare message before commit","text":""},{"location":"tutorials/auto_prepare_commit_message/#about","title":"About","text":"<p>It can be desirable to use Commitizen for all types of commits (i.e. regular, merge, squash) so that the complete git history adheres to the commit message convention without ever having to call <code>cz commit</code>.</p> <p>To automatically prepare a commit message prior to committing, you can use a prepare-commit-msg Git hook:</p> <p>This hook is invoked by git-commit right after preparing the default log message, and before the editor is started.</p> <p>To automatically perform arbitrary cleanup steps after a successful commit you can use a post-commit Git hook:</p> <p>This hook is invoked by git-commit. It takes no parameters, and is invoked after a commit is made.</p> <p>A combination of these two hooks allows for enforcing the usage of Commitizen so that whenever a commit is about to be created, Commitizen is used for creating the commit message. Running <code>git commit</code> or <code>git commit -m \"...\"</code> for example, would trigger Commitizen and use the generated commit message for the commit.</p>"},{"location":"tutorials/auto_prepare_commit_message/#installation","title":"Installation","text":"<p>Copy the hooks from here into the <code>.git/hooks</code> folder and make them   executable by running the following commands from the root of your Git repository:</p> <pre><code>wget -O .git/hooks/prepare-commit-msg https://raw.githubusercontent.com/commitizen-tools/commitizen/master/hooks/prepare-commit-msg.py\nchmod +x .git/hooks/prepare-commit-msg\nwget -O .git/hooks/post-commit https://raw.githubusercontent.com/commitizen-tools/commitizen/master/hooks/post-commit.py\nchmod +x .git/hooks/post-commit\n</code></pre>"},{"location":"tutorials/auto_prepare_commit_message/#features","title":"Features","text":"<ul> <li>Commits can be created using both <code>cz commit</code> and the regular <code>git commit</code></li> <li>The hooks automatically create a backup of the commit message that can be reused if   the commit failed</li> <li>The commit message backup can also be used via <code>cz commit --retry</code></li> </ul>"},{"location":"tutorials/dev_releases/","title":"Dev Releases","text":""},{"location":"tutorials/dev_releases/#about","title":"About","text":"<p>To make use of a <code>.dev</code> suffix, as per PEP440.</p> <p>If multiple active branches attempt to create a tag relative to the main branch, there is a possibility that they will attempt to create the same tag, resulting in a collision.</p> <p>Developmental releases aim to avoid this by including a <code>.dev</code> segment which includes a non-negative integer unique to that workflow:</p> <pre><code>X.Y.devN\n</code></pre> <p>Note</p> <p>As noted in PEP440, while developmental releases help avoid the situation described above, they can be \"difficult to parse for human readers\" depending on the value passed as the developmental release.</p>"},{"location":"tutorials/dev_releases/#how-to","title":"How to","text":""},{"location":"tutorials/dev_releases/#example-1-circleci","title":"Example 1: CircleCI","text":"<p>For example, CircleCI provides <code>CIRCLE_BUILD_NUM</code>, a unique number for each job which will increment with each run:</p> <pre><code>--devrelease ${CIRCLE_BUILD_NUM}\n</code></pre> <p>This will result in a unique developmental release of, for example:</p> <pre><code>1.3.2.dev2478\n</code></pre>"},{"location":"tutorials/dev_releases/#example-2-github","title":"Example 2: GitHub","text":"<p>GitHub also provides <code>GITHUB_RUN_ID</code>, a \"unique number for each workflow run\" which will also provide a unique number for each workflow:</p> <pre><code>--devrelease ${GITHUB_RUN_ID}\n</code></pre> <p>This will result in a unique developmental release of, for example:</p> <pre><code>1.3.2.dev6048584598\n</code></pre>"},{"location":"tutorials/dev_releases/#example-3-unix-time","title":"Example 3: Unix time","text":"<p>Equally, as the developmental release needs only a non-negative integer, it is possible to use the Unix time (i.e. the number of seconds since 1st January 1970 UTC).</p> <p>This approach could potentially create a collision if two builds occur at precisely the same second, but it may be sufficient for many use cases:</p> <pre><code>--devrelease $(date +%s)\n</code></pre> <p>This will result in a unique developmental release of, for example:</p> <pre><code>1.3.2.dev1696238452\n</code></pre>"},{"location":"tutorials/github_actions/","title":"GitHub Actions","text":""},{"location":"tutorials/github_actions/#create-a-new-release-with-github-actions","title":"Create a new release with GitHub Actions","text":"<p>This guide shows you how to automatically bump versions, create changelogs, and publish releases using Commitizen in GitHub Actions.</p>"},{"location":"tutorials/github_actions/#prerequisites","title":"Prerequisites","text":"<p>Before setting up the workflow, you'll need:</p> <ol> <li>A personal access token with repository write permissions</li> <li>Commitizen configured in your project (see configuration documentation)</li> </ol>"},{"location":"tutorials/github_actions/#automatic-version-bumping","title":"Automatic version bumping","text":"<p>To automatically execute <code>cz bump</code> in your CI and push the new commit and tag back to your repository, follow these steps:</p>"},{"location":"tutorials/github_actions/#step-1-create-a-personal-access-token","title":"Step 1: Create a personal access token","text":"<ol> <li>Go to GitHub Settings &gt; Developer settings &gt; Personal access tokens</li> <li>Click \"Generate new token (classic)\"</li> <li>Give it a descriptive name (e.g., \"Commitizen CI\")</li> <li>Select the <code>repo</code> scope to grant full repository access</li> <li>Click \"Generate token\" and copy the token immediately (you won't be able to see it again)</li> </ol> <p>Important: Use Personal Access Token, not GITHUB_TOKEN</p> <p>If you use <code>GITHUB_TOKEN</code> instead of <code>PERSONAL_ACCESS_TOKEN</code>, the workflow won't trigger another workflow run. This is a GitHub security feature to prevent infinite loops. The <code>GITHUB_TOKEN</code> is treated like using <code>[skip ci]</code> in other CI systems.</p>"},{"location":"tutorials/github_actions/#step-2-add-the-token-as-a-repository-secret","title":"Step 2: Add the token as a repository secret","text":"<ol> <li>Go to your repository on GitHub</li> <li>Navigate to <code>Settings &gt; Secrets and variables &gt; Actions</code></li> <li>Click \"New repository secret\"</li> <li>Name it <code>PERSONAL_ACCESS_TOKEN</code></li> <li>Paste the token you copied in Step 1</li> <li>Click \"Add secret\"</li> </ol>"},{"location":"tutorials/github_actions/#step-3-create-the-workflow-file","title":"Step 3: Create the workflow file","text":"<p>Create a new file <code>.github/workflows/bumpversion.yml</code> in your repository with the following content:</p> .github/workflows/bumpversion.yml<pre><code>name: Bump version\n\non:\n  push:\n    branches:\n      - master  # or 'main' if that's your default branch\n\njobs:\n  bump-version:\n    if: \"!startsWith(github.event.head_commit.message, 'bump:')\"\n    runs-on: ubuntu-latest\n    name: \"Bump version and create changelog with commitizen\"\n    steps:\n      - name: Check out\n        uses: actions/checkout@v6\n        with:\n          token: \"${{ secrets.PERSONAL_ACCESS_TOKEN }}\"\n          fetch-depth: 0\n      - name: Create bump and changelog\n        uses: commitizen-tools/commitizen-action@master\n        with:\n          github_token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}\n</code></pre>"},{"location":"tutorials/github_actions/#how-it-works","title":"How it works","text":"<ul> <li>Trigger: The workflow runs on every push to the <code>master</code> branch (or <code>main</code> if you change it)</li> <li>Conditional check: The <code>if</code> condition prevents infinite loops by skipping the job if the commit message starts with <code>bump:</code></li> <li>Checkout: Uses your personal access token to check out the repository with full history (<code>fetch-depth: 0</code>)</li> <li>Bump: The <code>commitizen-action</code> automatically:<ul> <li>Determines the version increment based on your commit messages</li> <li>Updates version files (as configured in your <code>pyproject.toml</code> or other config)</li> <li>Creates a new git tag</li> <li>Generates/updates the changelog</li> <li>Pushes the commit and tag back to the repository</li> </ul> </li> </ul> <p>Once you push this workflow file to your repository, it will automatically run on the next push to your default branch.</p> <p>Check out commitizen-action for more details.</p>"},{"location":"tutorials/github_actions/#creating-a-github-release","title":"Creating a GitHub release","text":"<p>To automatically create a GitHub release when a new version is bumped, you can extend the workflow above.</p> <p>The <code>commitizen-action</code> creates an environment variable called <code>REVISION</code> containing the newly created version. You can use this to create a release with the changelog content.</p> .github/workflows/bumpversion.yml<pre><code>name: Bump version\n\non:\n  push:\n    branches:\n      - master  # or 'main' if that's your default branch\n\njobs:\n  bump-version:\n    if: \"!startsWith(github.event.head_commit.message, 'bump:')\"\n    runs-on: ubuntu-latest\n    name: \"Bump version and create changelog with commitizen\"\n    steps:\n      - name: Check out\n        uses: actions/checkout@v6\n        with:\n          token: \"${{ secrets.PERSONAL_ACCESS_TOKEN }}\"\n          fetch-depth: 0\n      - name: Create bump and changelog\n        uses: commitizen-tools/commitizen-action@master\n        with:\n          github_token: ${{ secrets.PERSONAL_ACCESS_TOKEN }}\n          changelog_increment_filename: body.md\n      - name: Release\n        uses: ncipollo/release-action@v1\n        with:\n          tag: v${{ env.REVISION }}\n          bodyFile: \"body.md\"\n          skipIfReleaseExists: true\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n</code></pre> <p>You can find the complete workflow in our repository at bumpversion.yml.</p>"},{"location":"tutorials/github_actions/#publishing-a-python-package","title":"Publishing a Python package","text":"<p>After a new version tag is created by the bump workflow, you can automatically publish your package to PyPI.</p>"},{"location":"tutorials/github_actions/#step-1-create-a-pypi-api-token","title":"Step 1: Create a PyPI API token","text":"<ol> <li>Go to PyPI Account Settings</li> <li>Scroll to the \"API tokens\" section</li> <li>Click \"Add API token\"</li> <li>Give it a name (e.g., \"GitHub Actions\")</li> <li>Set the scope (project-specific or account-wide)</li> <li>Click \"Add token\" and copy the token immediately</li> </ol> <p>Using trusted publishing (recommended)</p> <p>Instead of API tokens, consider using PyPI trusted publishing with OpenID Connect (OIDC). This is more secure as it doesn't require storing secrets. The <code>pypa/gh-action-pypi-publish</code> action supports trusted publishing when you configure it in your PyPI project settings.</p>"},{"location":"tutorials/github_actions/#step-2-add-the-token-as-a-repository-secret_1","title":"Step 2: Add the token as a repository secret","text":"<ol> <li>Go to your repository on GitHub</li> <li>Navigate to <code>Settings &gt; Secrets and variables &gt; Actions</code></li> <li>Click \"New repository secret\"</li> <li>Name it <code>PYPI_PASSWORD</code></li> <li>Paste the PyPI token</li> <li>Click \"Add secret\"</li> </ol>"},{"location":"tutorials/github_actions/#step-3-create-the-publish-workflow","title":"Step 3: Create the publish workflow","text":"<p>Create a new file <code>.github/workflows/pythonpublish.yml</code> that triggers on tag pushes:</p> .github/workflows/pythonpublish.yml<pre><code>name: Upload Python Package\n\non:\n  push:\n    tags:\n      - \"*\"  # Will trigger for every tag, alternative: 'v*'\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v6\n        with:\n          fetch-depth: 0\n      - name: Set up Python\n        uses: actions/setup-python@v4\n        with:\n          python-version: \"3.x\"\n      - name: Install Poetry\n        uses: snok/install-poetry@v1\n        with:\n          version: latest\n          virtualenvs-in-project: true\n          virtualenvs-create: true\n      - name: Install dependencies\n        run: |\n          poetry --version\n          poetry install\n      - name: Build and publish\n        env:\n          POETRY_HTTP_BASIC_PYPI_USERNAME: __token__\n          POETRY_HTTP_BASIC_PYPI_PASSWORD: ${{ secrets.PYPI_PASSWORD }}\n        run: poetry publish --build\n</code></pre> <p>This workflow uses Poetry to build and publish the package. You can find the complete workflow in our repository at pythonpublish.yml.</p> <p>Alternative publishing methods</p> <p>You can also use pypa/gh-action-pypi-publish or other build tools like <code>setuptools</code>, <code>flit</code>, or <code>hatchling</code> to publish your package.</p>"},{"location":"tutorials/gitlab_ci/","title":"GitLab CI","text":""},{"location":"tutorials/gitlab_ci/#create-a-new-release-using-gitlab-ci","title":"Create a new release using GitLab CI","text":"<p>For this example, we have a <code>python/django</code> application and <code>Docker</code> as a containerization tool.</p> <p>Goal: Bump a new version every time that a change occurs on the <code>master</code> branch. The bump should be executed automatically by the <code>CI</code> process.</p>"},{"location":"tutorials/gitlab_ci/#development-workflow","title":"Development Workflow","text":"<ol> <li>A developer creates a new commit on any branch (except <code>master</code>)</li> <li>A developer creates a merge request (MR) against <code>master</code> branch</li> <li>When the <code>MR</code> is merged into master, the 2 stages of the CI are executed</li> <li>For simplification, we store the software version in a file called <code>VERSION</code>. You can use any file that you want as <code>commitizen</code> supports it.</li> <li>The commit message executed automatically by the <code>CI</code> must include <code>[skip-ci]</code> in the message; otherwise, the process will generate a loop. You can define the message structure in commitizen as well.</li> </ol>"},{"location":"tutorials/gitlab_ci/#gitlab-configuration","title":"GitLab Configuration","text":"<p>To be able to change files and push new changes with <code>GitLab CI</code> runners, we need to have a <code>ssh</code> key and configure a git user.</p> <p>First, let's create a <code>ssh key</code>. The only requirement is to create it without a passphrase:</p> <pre><code>ssh-keygen -f deploy_key -N \"\"\n</code></pre> <p>The previous command will create a private and public key under the files <code>deploy_key</code> and <code>deploy_key.pub</code>. We will use them later.</p> <p>For the git user, we need an email and username. You can choose whatever you want; in this example, we choose <code>ci-runner@myproject.com</code> and <code>admin</code>, respectively.</p> <p>Now, we need to create three environment variables that will be visible for the runners. They should be created in the <code>variables</code> section under <code>settings/ci_cd</code>:</p> <p></p> <p>Create <code>SSH_PRIVATE_KEY</code>, <code>CI_EMAIL</code>, <code>CI_USERNAME</code> variables, and fill them with the <code>private_key</code>, <code>email</code> and <code>username</code> that we have created previously.</p> <p>The latest step is to create a <code>deploy key.</code> To do this, we should create it under the section <code>settings/repository</code> and fill it with the <code>public key</code> generated before. Check <code>Write access allowed</code>; otherwise, the runner won't be able to write the changes to the repository.</p> <p></p> <p>If you have more projects under the same organization, you can reuse the deploy key created before, but you will have to repeat the step where we have created the environment variables (ssh key, email, and username).</p> <p>Tip: If the CI raise some errors, try to unprotect the private key.</p>"},{"location":"tutorials/gitlab_ci/#defining-gitlab-ci-pipeline","title":"Defining GitLab CI Pipeline","text":"<ol> <li> <p>Create a <code>.gitlab-ci.yaml</code> file that contains <code>stages</code> and <code>jobs</code> configurations. You can find more info here.</p> </li> <li> <p>Define <code>stages</code> and <code>jobs</code>. For this example, we define two <code>stages</code> with one <code>job</code> each one.</p> </li> <li>Test the application.</li> <li>Auto bump the version. This means changing the file/s that reflects the version, creating a new commit and git tag.</li> </ol>"},{"location":"tutorials/gitlab_ci/#stages-and-jobs","title":"Stages and Jobs","text":"<pre><code>image: docker:latest\n\nservices:\n  - docker:dind\n\nvariables:\n  API_IMAGE_NAME: $CI_REGISTRY_IMAGE:$CI_COMMIT_REF_NAME\n\nbefore_script:\n  - apk add --no-cache py-pip\n  - pip install docker-compose\n\nstages:\n  - test\n  - auto-bump\n\ntest:\n  stage: test\n  script:\n    - docker-compose run -e DJANGO_ENVIRONMENT=dev your_project python manage.py test # run tests\n\nauto-bump:\n  stage: auto-bump\n  image: python:3.10\n  before_script:\n    - \"which ssh-agent || ( apt-get update -qy &amp;&amp; apt-get install openssh-client -qqy )\"\n    - eval `ssh-agent -s`\n    - echo \"${SSH_PRIVATE_KEY}\" | tr -d '\\r' | ssh-add - &gt; /dev/null # add ssh key\n    - pip3 install -U commitizen # install commitizen\n    - mkdir -p ~/.ssh\n    - chmod 700 ~/.ssh\n    - echo \"$SSH_PUBLIC_KEY\" &gt;&gt; ~/.ssh/id_rsa.pub\n    - '[[ -f /.dockerenv ]] &amp;&amp; echo -e \"Host *\\n\\tStrictHostKeyChecking no\\n\\n\" &gt; ~/.ssh/config'\n  dependencies:\n    - test\n  script:\n    - git remote set-url origin git@gitlab.com:discover/rentee-core.git # git configuration\n    - git config --global user.email \"${CI_EMAIL}\" &amp;&amp; git config --global user.name \"${CI_USERNAME}\"\n    - 'exists=`git show-ref refs/heads/master` &amp;&amp; if [ -n \"$exists\" ]; then git branch -D master; fi'\n    - git checkout -b master\n    - cz bump --yes # execute auto bump and push to master\n    - git push origin master:$CI_COMMIT_REF_NAME\n    - TAG=$(head -n 1 VERSION) # get the new software version and save into artifacts\n    - echo \"#!/bin/sh\" &gt;&gt; variables\n    - echo \"export TAG='$TAG'\" &gt;&gt; variables\n    - git push origin $TAG\n  only:\n    refs:\n      - master\n  artifacts:\n    paths:\n      - variables\n</code></pre> <p>So, every time that a developer pushes to any branch, the <code>test</code> job is executed. If the branch is <code>master</code> and the test jobs succeed, the <code>auto-bump</code> takes place. To be able to push using the GitLab runner, we have to set the SSH key, configure git, and finally execute the auto bump.</p> <p>After merging the new changes into master, we have the final result:</p> <p></p>"},{"location":"tutorials/jenkins_pipeline/","title":"Create a new release with Jenkins Pipelines","text":"<p>For this we are using the modern approach of declarative pipelines.</p> <p>You must also ensure your jenkins instance supports docker. Most modern jenkins systems do have support for it, they have embraced it.</p> <pre><code>pipeline {\n  agent {\n    any\n  }\n  environment {\n    CI = 'true'\n  }\n  stages {\n    stage('Bump version') {\n      when {\n        beforeAgent true\n        expression { env.BRANCH_IS_PRIMARY }\n        not {\n          changelog '^bump:.+'\n        }\n      }\n      steps {\n        script {\n          useCz {\n            sh \"cz bump --changelog\"\n          }\n         // Here push back to your repository the new commit and tag\n        }\n      }\n    }\n  }\n}\n\ndef useCz(String authorName = 'Jenkins CI Server', String authorEmail = 'your-jenkins@email.com', String image =  'registry.hub.docker.com/commitizen/commitizen:latest', Closure body) {\n    docker\n    .image(image)\n    .inside(\"-u 0 -v $WORKSPACE:/workspace -w /workspace -e GIT_AUTHOR_NAME='${authorName}' -e GIT_AUTHOR_EMAIL='${authorEmail}' -entrypoint='/bin/sh'\") {\n        sh 'git config --global --add safe.directory \"*\"'\n        sh \"git config --global user.email '${authorName}'\"\n        sh \"git config --global user.name '${authorEmail}'\"\n        body()\n    }\n}\n</code></pre> <p>Warning</p> <p>Using jenkins pipeline with any git plugin may require many configurations, you'll have to tinker with it until your pipelines properly detects git events. Check your webhook in your git repository and check the \"behaviors\" and \"build strategies\" in your pipeline settings.</p>"},{"location":"tutorials/monorepo_guidance/","title":"Configuring Commitizen in a monorepo","text":"<p>This tutorial assumes that your monorepo is structured with multiple components that can be released independently of each other. It also assumes that you are using conventional commits with scopes.</p> <p>Here is a step-by-step example using two libraries, <code>library-b</code> and <code>library-z</code>:</p> <ol> <li> <p>Organize your monorepo</p> <p>For example, you might have one of these layouts:</p> <pre><code>.\n\u251c\u2500\u2500 library-b\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 .cz.toml\n\u2514\u2500\u2500 library-z\n    \u2514\u2500\u2500 .cz.toml\n</code></pre> <pre><code>src\n\u251c\u2500\u2500 library-b\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 .cz.toml\n\u2514\u2500\u2500 library-z\n    \u2514\u2500\u2500 .cz.toml\n</code></pre> </li> <li> <p>Add a Commitizen configuration for each component</p> <pre><code># library-b/.cz.toml\n[tool.commitizen]\nname = \"cz_customize\"\nversion = \"0.0.0\"\ntag_format = \"${version}-library-b\" # the component name can be a prefix or suffix with or without a separator\nignored_tag_formats = [\"${version}-library-*\"] # Avoid noise from other tags\nupdate_changelog_on_bump = true\n</code></pre> <pre><code># library-z/.cz.toml\n[tool.commitizen]\nname = \"cz_customize\"\nversion = \"0.0.0\"\ntag_format = \"${version}-library-z\"\nignored_tag_formats = [\"${version}-library-*\"] # Avoid noise from other tags\nupdate_changelog_on_bump = true\n</code></pre> </li> <li> <p>Bump each component independently</p> <pre><code>cz --config library-b/.cz.toml bump --yes\ncz --config library-z/.cz.toml bump --yes\n</code></pre> </li> </ol>"},{"location":"tutorials/monorepo_guidance/#changelog-per-component","title":"Changelog per component","text":"<p>To filter the correct commits for each component, you'll need to define a strategy.</p> <p>For example:</p> <ul> <li>Trigger the pipeline based on the changed path. This can have some downsides, as you'll rely on the developer not including files from unrelated components.<ul> <li>GitHub Actions uses <code>path</code></li> <li>Jenkins uses <code>changeset</code></li> <li>GitLab uses <code>rules:changes</code></li> </ul> </li> <li>Filter commits by a specific pattern in the commit message (recommended)</li> </ul>"},{"location":"tutorials/monorepo_guidance/#example-with-scope-in-conventional-commits","title":"Example with scope in conventional commits","text":"<p>In this example, we want <code>library-b</code>'s changelog to only include commits that use the <code>library-b</code> scope. To achieve this, we configure Commitizen to match only commit messages with that scope.</p> <p>Here is an example configuration for <code>library-b</code>:</p> <pre><code>[tool.commitizen.customize]\nchangelog_pattern = \"^(feat|fix)\\\\(library-b\\\\)(!)?:\" # the type pattern can be a wildcard or any types you wish to include\n</code></pre> <p>With this configuration, a commit message like the following would be included in <code>library-b</code>'s changelog:</p> <pre><code>fix(library-b): Some awesome message\n</code></pre>"},{"location":"tutorials/tag_format/","title":"Managing tag formats","text":""},{"location":"tutorials/tag_format/#tag-format-and-version-scheme","title":"Tag format and version scheme","text":"<p>For most projects, the tag format is simply the version number which is set like this:</p> <pre><code>[tool.commitizen]\ntag_format: $version\nversion_scheme: pep440\n</code></pre> <p>As this is the default value, you don't have to specify it.</p> <p>This setting means that:</p> <ul> <li>The tag generated on bump will have this format: <code>1.0.0</code> :<ul> <li>the version is generated following PEP440 scheme</li> <li>the tag is exactly the generated version</li> </ul> </li> <li>All tags having this format will be recognized as version tag when:<ul> <li>searching the last while bumping a release</li> <li>searching previous versions while:<ul> <li>generating incremental changelog</li> <li>generating a changelog for a version range</li> </ul> </li> </ul> </li> <li>The changelog versions (section titles) will have this format</li> <li>The <code>scm</code> version provider will identify the current version using this tag format</li> </ul> <p>The version format will change depending on your configured version scheme. For most, it will only impact pre-releases and developmental releases formats (i.e. <code>1.0.0-rc.1</code> vs. <code>1.0.0.rc1</code>)</p> <p>But you may need a different tagging convention, let's say using <code>semver</code> and prefixed with a <code>v</code>. In this case you will define your settings like this:</p> <pre><code>[tool.commitizen]\ntag_format: v${version}\nversion_scheme: semver\n</code></pre> <p>As a result, the tag generated on bump will have this format: <code>v1.0.0</code> and the version will be generated following <code>semver</code> scheme.</p> <p>Note</p> <p>Both <code>$version</code> and <code>${version}</code> syntaxes are strictly equivalent. You can use the one you prefer.</p> <p>See <code>tag_format</code> and <code>version_scheme</code> settings for more details.</p>"},{"location":"tutorials/tag_format/#changing-convention","title":"Changing convention","text":"<p>Now, let's say you need to change the tag format for some reason (company convention, migration to a monorepo...). You will obviously want to keep all those features working as expected.</p> <p>Commitizen can deal with it as long as you provide the legacy tag format in the configuration.</p> <p>Using the previous example, let's say you want to move from <code>v${version}</code> to <code>component-${version}</code>. Then <code>component-${version}</code> will be the new tag format and <code>v${version}</code> the legacy one.</p> <pre><code>[tool.commitizen]\ntag_format: component-${version}\nlegacy_tag_formats:\n - v${version}\n</code></pre> <p>This way, you won't lose your version history, you'll still be able to generate your changelog properly, and on the next version bump, your last version in the form <code>v${version}</code> will be properly recognized if you use the <code>scm</code> version provider. Your new tag will be in the form <code>component-${version}</code>.</p>"},{"location":"tutorials/tag_format/#known-tags-to-ignore","title":"Known tags to ignore","text":"<p>Now let's say you have some known tags you want to ignore, either because they are not versions, or because they are not versions of the component you are dealing with. As a consequence, you don't want them to trigger a warning because Commitizen detected an unknown tag format.</p> <p>Then you can tell Commitizen about it using the <code>ignored_tag_formats</code> setting:</p> <pre><code>[tool.commitizen]\nignored_tag_formats:\n  - prod\n  - other-component-${version}\n  - prefix-*\n</code></pre> <p>This will ignore:</p> <ul> <li>The <code>prod</code> tag</li> <li>Any version tag prefixed with <code>other-component-</code></li> <li>Any tag prefixed with <code>prefix-</code></li> </ul> <p>Tip</p> <p>Note the <code>*</code> in the <code>prefix-*</code> pattern. This is a wildcard and only exists for <code>ignored_tag_formats</code>. It will match any string from any length. This allows to exclude by prefix, whether it is followed by a version or not.</p> <p>Tip</p> <p>If you don't want to be warned when Commitizen detects an unknown tag, you can do so by setting: <pre><code>[tool.commitizen]\nignored_tag_formats = [\"*\"]\n</code></pre> But be aware that you will not be warned if you have a typo in your tag formats.</p>"},{"location":"tutorials/writing_commits/","title":"Commit Message Best Practices","text":""},{"location":"tutorials/writing_commits/#about","title":"About","text":"<p>For Commitizen to work effectively in your development pipeline, commits must follow a consistent convention. By default, Commitizen uses the Conventional Commits specification, which provides a standardized format for commit messages that enables automatic versioning and changelog generation.</p> <p>You can also create your own custom commit convention by following the customization documentation.</p>"},{"location":"tutorials/writing_commits/#conventional-commits-format","title":"Conventional Commits Format","text":"<p>The Conventional Commits specification follows this structure:</p> <pre><code>&lt;type&gt;[optional scope]: &lt;description&gt;\n\n[optional body]\n\n[optional footer]\n</code></pre>"},{"location":"tutorials/writing_commits/#commit-types","title":"Commit Types","text":"<p>Commit types categorize the nature of your changes. The most important types for semantic versioning are:</p> <ul> <li><code>feat</code>: Introduces a new feature (correlates with MINOR version increment)</li> <li><code>fix</code>: Patches a bug (correlates with PATCH version increment)</li> </ul> <p>Other commonly used types include:</p> <ul> <li><code>docs</code>: Documentation only changes</li> <li><code>style</code>: Code style changes (formatting, missing semicolons, etc.)</li> <li><code>refactor</code>: Code refactoring without changing functionality</li> <li><code>perf</code>: Performance improvements</li> <li><code>test</code>: Adding or updating tests</li> <li><code>build</code>: Changes to build system or dependencies</li> <li><code>ci</code>: Changes to CI configuration files</li> <li><code>chore</code>: Other changes that don't modify source or test files</li> </ul> <p>Note</p> <p>While <code>feat</code> and <code>fix</code> directly affect semantic versioning, other types (like <code>build</code>, <code>chore</code>, <code>docs</code>) typically don't trigger version bumps unless they include a <code>BREAKING CHANGE</code>.</p>"},{"location":"tutorials/writing_commits/#breaking-changes","title":"Breaking Changes","text":"<p>Breaking changes trigger a MAJOR version increment. You can indicate breaking changes in two ways:</p> <ol> <li> <p>In the commit body or footer:     <pre><code>feat(api): change authentication method\n\nBREAKING CHANGE: The authentication API now requires OAuth2 instead of API keys.\n</code></pre></p> </li> <li> <p>In the commit title (when enabled):     <pre><code>feat!: change authentication method\n</code></pre></p> <p>To enable this syntax, set <code>breaking_change_exclamation_in_title = true</code> in your configuration. Read more</p> </li> </ol>"},{"location":"tutorials/writing_commits/#scope","title":"Scope","text":"<p>An optional scope can be added to provide additional context about the area of the codebase affected:</p> <pre><code>feat(parser): add support for JSON arrays\nfix(api): handle null response gracefully\n</code></pre>"},{"location":"tutorials/writing_commits/#writing-effective-commit-messages","title":"Writing Effective Commit Messages","text":"<p>Well-written commit messages are crucial for maintaining a clear project history. When writing commits, consider:</p> <ul> <li>Your future self: You'll need to understand these changes months later</li> <li>Your team: Clear messages help colleagues understand the codebase evolution</li> <li>Automated tools: Good messages enable better changelog generation and versioning</li> </ul>"},{"location":"tutorials/writing_commits/#best-practices","title":"Best Practices","text":""},{"location":"tutorials/writing_commits/#1-keep-the-subject-line-concise","title":"1. Keep the Subject Line Concise","text":"<p>The subject line should be clear and concise (aim for ~50 characters). It should summarize what the commit does in one line.</p> <p>Good: <pre><code>fix(commands): handle missing user input gracefully\nfeat(api): add pagination support\n</code></pre></p> <p>Avoid: <pre><code>fix: stuff\nfeat: commit command introduced\n</code></pre></p>"},{"location":"tutorials/writing_commits/#2-use-imperative-mood","title":"2. Use Imperative Mood","text":"<p>Write commit messages in the imperative mood, as if completing the sentence: \"If applied, this commit will...\"</p> <p>Good: <pre><code>feat: add user authentication\nfix: resolve memory leak in parser\n</code></pre></p> <p>Avoid: <pre><code>feat: added user authentication\nfix: resolved memory leak in parser\n</code></pre></p>"},{"location":"tutorials/writing_commits/#3-think-about-the-changelog","title":"3. Think About the Changelog","text":"<p>Your commits will likely appear in the automatically generated changelog. Write messages that make sense in that context. If you want to exclude a commit from the changelog, use types like <code>build</code>, <code>chore</code>, or <code>ci</code>.</p>"},{"location":"tutorials/writing_commits/#4-one-feature-per-commit","title":"4. One Feature Per Commit","text":"<p>Keep commits focused on a single change. If you introduce multiple related changes, consider squashing them into a single commit. This makes the history cleaner and improves changelog generation.</p>"},{"location":"tutorials/writing_commits/#5-use-the-body-for-context","title":"5. Use the Body for Context","text":"<p>For complex changes, use the commit body to explain:</p> <ul> <li>Why the change was made</li> <li>What was changed (if not obvious from the subject)</li> <li>How it differs from previous behavior</li> </ul> <pre><code>feat(api): add rate limiting\n\nImplement rate limiting to prevent API abuse. The system now\nenforces a maximum of 100 requests per minute per IP address.\nExceeding this limit returns a 429 status code.\n</code></pre>"},{"location":"tutorials/writing_commits/#examples","title":"Examples","text":"\u2705 Good Examples \u274c Poor Examples <code>fix(commands): bump error when no user provided</code> <code>fix: stuff</code> <code>feat(api): add pagination to user list endpoint</code> <code>feat: commit command introduced</code> <code>docs: update installation instructions</code> <code>docs: changes</code> <code>refactor(parser): simplify token extraction logic</code> <code>refactor: code cleanup</code>"},{"location":"tutorials/writing_commits/#character-encoding","title":"Character Encoding","text":"<p>Commitizen supports Unicode characters (including emojis) in commit messages. This is useful if you're using commit message formats that include emojis, such as cz-emoji.</p> <p>By default, Commitizen uses <code>utf-8</code> encoding. You can configure a different encoding through the <code>encoding</code> configuration option.</p>"},{"location":"tutorials/writing_commits/#related-documentation","title":"Related Documentation","text":"<ul> <li>Conventional Commits Specification</li> <li>Custom Commit Conventions</li> <li>Commit Configuration Options</li> </ul>"}]}